{"version":3,"sources":["components/Titlebar.js","components/AddIcon.js","components/NewNameChip.js","components/NewMembersForm.js","components/Notification.js","components/NewBillNameForm.js","components/GetUser.js","components/NewBillForm.js","components/error404.js","components/EditBillForm.js","components/BillItemForm.js","components/ManageBill.js","components/BillBrief.js","components/AlertMessage.js","components/AllBills.js","components/TestLogin.js","App.js","index.js"],"names":["Titlebar","className","to","style","fontSize","marginLeft","this","props","children","Component","AddIcon","NewNameChip","toggleIsMember","setState","isMember","state","toggleIsPart","index","isPart","onClick","isEditable","opacity","pointerEvents","memberName","color","NewMembersForm","value","handleChange","bind","handleSubmit","event","target","preventDefault","inputTag","document","getElementById","borderBottom","addMember","id","onSubmit","type","placeholder","onChange","Notification","message","NewBillNameForm","a","async","isInEditMode","billName","replace","toLowerCase","allBillNames","includes","alreadyExists","setTimeout","isLoading","editBill","createNewBill","click","formatBillName","name","existingBillNames","display","GetUser","init","localStorage","getItem","isSignedIn","getUserFromDatabase","email","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","JSON","parse","responseText","existingMembers","stringify","setItem","open","setRequestHeader","send","componentDidMount","setAppState","responseGoogle","error","getStyle","position","top","bottom","left","right","flexDirection","justifyContent","alignItems","textAlign","getGoogleLogin","clientId","buttonText","onSuccess","onFailure","cookiePolicy","getLoadingScreen","NewBillForm","members","isDataAvailable","getSignedInStatus","getExistingMemberObjects","membersArray","length","map","member","toUpperCase","getMembersList","i","key","allMembers","push","billMembers","newMembers","forEach","currentBill","bill","concat","getExistingAssets","asset","renderForm","setTitle","Error404","EditBillForm","getBillName","pathname","location","split","errorMessage","isBillExist","BillItemForm","handleItemNameChange","itemName","handleItemAmountChange","itemAmount","getRowContainerStyles","marginTop","areInputsInvalid","isNameInvalid","isAmountInvalid","itemNameContainer","itemAmountContainer","amount","isNaN","parseFloat","getNameAndAmount","toFixed","itemDetails","setNameAndAmount","splitChecked","splitEqually","reset","step","width","ManageBill","getTitle","handleSplitAmountChange","memberState","getMembers","toggleIsChecked","marginRight","disabled","isChecked","toggleIsDue","updatedReceipt","receipt","memberIndex","indexOf","memberReceipt","isDue","isInvalid","total","getElementsByName","remaining","Math","abs","handleSplitFormSubmit","refs","itemForm","splitInto","paidBy","generateReceipt","resetSplitForm","changePaidBy","getMemberNameChips","getSplitForm","colSpan","checkedCount","lessAmount","assignTo","parts","selectAllMembers","getSplitIntoMembers","renderItem","renderReceiptItems","itemList","itemListView","item","getReceiptView","paidByMeTotal","paidForMeTotal","paidByMe","paidForMe","renderReceipt","receiptView","splitAmount","getBill","renderBillItemForm","ref","marginBottom","currentBillId","BillBrief","toggleShowReceipt","showReceipt","deleteBill","date","AlertMessage","textTransform","float","padding","cancelDeletion","confirmDeletion","AllBills","isAlertBoxRequired","billToBeDeleted","allBills","newAllBills","getBillBrief","Date","dateCreated","toDateString","getAllBillBriefs","getAllBills","billNames","TestLogin","prepareLoginButton","console","log","googleLoginBtn","auth2","attachClickHandler","googleUser","profile","getBasicProfile","getAuthResponse","id_token","getId","getName","getImageUrl","getEmail","alert","undefined","googleSDK","window","load","client_id","cookiepolicy","scope","d","s","js","fjs","getElementsByTagName","createElement","src","parentNode","insertBefore","App","resizeTo","title","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.039e0287.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class Titlebar extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"titlebar\">\r\n                <div><Link to=\"/home\"><i className=\"material-icons\">home</i></Link></div>\r\n                <div style={{fontSize: 'xx-large', marginLeft: '10px'}}>{this.props.children}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Titlebar\r\n","import React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport class AddIcon extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"addnewIconContainer\">\r\n                <Link to=\"/newbill\"><i className=\"material-icons addnewIcon\">add_circle</i></Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddIcon\r\n","import React, { Component } from 'react'\r\n\r\nexport class NewNameChip extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            isMember: this.props.isPart\r\n        }\r\n    }\r\n    toggleIsMember = ()=>{\r\n        this.setState({\r\n            isMember: !this.state.isMember\r\n        })\r\n        this.props.toggleIsPart(this.props.index);\r\n    }\r\n    render() {\r\n        return (\r\n            <span \r\n            className=\"newNameChip\" \r\n            onClick={this.toggleIsMember} \r\n            style={this.state.isMember ? \r\n                this.props.isEditable ? \r\n                    {opacity: 1, pointerEvents: 'auto'} \r\n                : \r\n                    {opacity: 1, pointerEvents: 'none'}\r\n                :\r\n                {opacity: 0.5, pointerEvents: 'auto'}}\r\n            >\r\n                {this.props.memberName}\r\n                <i className=\"material-icons chipControlIcon\" style={this.state.isMember ? {color: 'var(--red)'} : {color: 'var(--green)'}}>\r\n                    {this.state.isMember ? 'cancel' : 'add_circle'}\r\n                </i>\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewNameChip\r\n","import React, { Component } from 'react'\r\n\r\nexport class NewMembersForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: ''};\r\n    \r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    \r\n    handleChange(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n    \r\n    handleSubmit(event) {\r\n        // console.log(\"handling event\");\r\n        event.preventDefault();\r\n        const inputTag = document.getElementById('newMemberName');\r\n        inputTag.style.borderBottom = '1px solid var(--white)';\r\n        if(this.state.value===''){\r\n            inputTag.style.borderBottom = '1px solid var(--red)';\r\n            return;\r\n        }\r\n        if(this.props.addMember(this.state.value)===-1) return;\r\n        this.setState({\r\n            value: ''\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <form id=\"newMemberNames\" className=\"newMemberNames\" onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" placeholder=\"member name\" className=\"appInputs\" id=\"newMemberName\" value={this.state.value} onChange={this.handleChange} />\r\n                <i className=\"material-icons\" onClick={this.handleSubmit}>add_circle</i>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewMembersForm\r\n","import React, { Component } from 'react'\r\n\r\nexport class Notification extends Component {\r\n    render() {\r\n        return (\r\n            <span \r\n                className=\"notification\" \r\n                id=\"notification\" \r\n                style={this.props.style}\r\n            >\r\n                {this.props.message}\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Notification from './Notification';\r\n\r\nexport class NewBillNameForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.isInEditMode = this.props.isInEditMode;\r\n        this.allBillNames = this.props.existingBillNames;\r\n        this.state = {\r\n            value: this.isInEditMode ? this.props.billName : '',\r\n            alreadyExists: false,\r\n        }\r\n    }\r\n    \r\n    handleChange = (event) => {\r\n        this.setState({\r\n            value: event.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = async (event) => {\r\n        if(!this.isInEditMode){\r\n            const inputTag = document.getElementById('newBillName');\r\n            inputTag.style.borderBottom = '1px solid var(--white)';\r\n            if(this.state.value===''){\r\n                inputTag.style.borderBottom = '1px solid var(--red)';\r\n                // event.preventDefault();\r\n                return;\r\n            }\r\n            const billName = this.state.value.replace(' ', '-').toLowerCase();\r\n            if(this.allBillNames.includes(billName)){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                // event.preventDefault();\r\n                return;\r\n            }\r\n        }\r\n        const billName = this.state.value.replace(' ', '-').toLowerCase();\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        this.isInEditMode ? await this.props.editBill(billName) : await this.props.createNewBill(billName);\r\n        document.getElementById('nextpagelink').click();\r\n    }\r\n\r\n    formatBillName = (name) => {\r\n        return name.replace(\" \", \"-\");\r\n    }\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                <div name=\"newBillName\" className=\"newBillName\">\r\n                    <Notification message={\"Bill with same exists\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"bill name\" \r\n                        className=\"appInputs\" \r\n                        id=\"newBillName\" \r\n                        value={this.state.value} \r\n                        onChange={this.handleChange} \r\n                        style={this.isInEditMode ? {pointerEvents: 'none'} : {pointerEvents: 'auto'}}\r\n                    />\r\n                    <i className=\"material-icons checkIcon\" onClick={this.handleSubmit}>check_circle</i>\r\n                    <Link to={`/manage/${this.formatBillName(this.state.value)}`} id=\"nextpagelink\"></Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewBillNameForm\r\n","import React, { Component } from 'react';\r\nimport { GoogleLogin } from 'react-google-login'; \r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class GetUser extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.props.setAppState(\"title\", \"Log In\");\r\n        this.state = this.init();\r\n        \r\n    }\r\n\r\n    init = () => {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            // console.log(\"Signed IN\");\r\n            return {isSignedIn: true, isLoading: false}\r\n        }\r\n        return {isSignedIn: false, isLoading: false, }\r\n    }\r\n\r\n    getUserFromDatabase = (email, name) => {\r\n        return new Promise((resolve, reject)=>{\r\n            // MAKE API CALL HERE.\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    // console.log(xhr.responseText);\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const existingMembers = JSON.stringify(response.existingMembers);\r\n                    const existingBillNames = JSON.stringify(response.existingBillNames);\r\n                    localStorage.setItem(\"existingMembers\", existingMembers);\r\n                    localStorage.setItem(\"existingBillNames\", existingBillNames);\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getuser\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getuser\");\r\n            xhr.setRequestHeader(\"email\", email);\r\n            xhr.setRequestHeader(\"name\", name);\r\n            xhr.send();\r\n        })\r\n        \r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        if(this.state.isSignedIn){\r\n            const email=localStorage.getItem(\"email\");\r\n            const name=localStorage.getItem(\"name\");\r\n            this.props.setAppState(\"email\", email);\r\n            this.setState({\r\n                isLoading: true\r\n            })\r\n            await this.getUserFromDatabase(email, name);\r\n            this.setState({\r\n                isLoading: false\r\n            })\r\n            // console.log(\"Was signed in.\", user);\r\n            document.getElementById('linktohome').click();\r\n        }\r\n    }\r\n\r\n    responseGoogle = async (response) => {\r\n        if(response.error){\r\n            return;\r\n        }\r\n        // const email = response.profileObj.email;\r\n        // const name = response.profileObj.name;\r\n        // console.log(email, name);\r\n        // localStorage.setItem(\"email\", email);\r\n        // localStorage.setItem(\"name\", name);\r\n        // this.props.setAppState(\"email\", email);\r\n        // localStorage.setItem(\"isSignedIn\", \"true\");\r\n        // this.setState({\r\n        //     isLoading: true\r\n        // })\r\n        // await this.getUserFromDatabase(email, name);\r\n        // this.setState({\r\n        //     isLoading: false\r\n        // })\r\n        // // console.log(\"Was not signed in.\", user);\r\n\r\n        // document.getElementById('linktohome').click();\r\n    }\r\n\r\n    getStyle = () => {\r\n        return {\r\n            position: 'fixed',\r\n            top: '0px',\r\n            bottom: '0px',\r\n            left: '0px',\r\n            right: '0px',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            textAlign: 'center'\r\n        }\r\n    }\r\n\r\n    getGoogleLogin = () =>{\r\n        if(this.state.isSignedIn){\r\n            return <span></span>    \r\n        }\r\n        return <div style={this.getStyle()}>\r\n            <h2>You must be logged in to use this website.</h2>\r\n        <GoogleLogin\r\n                clientId=\"748883507287-vd5sq0o1i30l6pk7vh4fuusi77voh1mp.apps.googleusercontent.com\"\r\n                buttonText=\"Log in\"\r\n                onSuccess={this.responseGoogle}\r\n                onFailure={this.responseGoogle}\r\n                cookiePolicy={'single_host_origin'}\r\n        />\r\n\r\n    </div>\r\n    }\r\n    getLoadingScreen = () => {\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n            <div style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'}: {opacity: 1, pointerEvents: 'auto'}}>            \r\n                <Link to=\"/home\" id=\"linktohome\"></Link>\r\n                {this.getGoogleLogin()}\r\n            </div>\r\n                {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n                \r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default GetUser\r\n","import React, { Component } from 'react';\r\nimport NewNameChip from './NewNameChip';\r\nimport NewMembersForm from './NewMembersForm';\r\nimport NewBillNameForm from './NewBillNameForm';\r\nimport Notification from './Notification';\r\n// import { Link } from 'react-router-dom';\r\nimport GetUser from './GetUser';\r\n\r\nexport class NewBillForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.props.setTitle(\"New Bill\");\r\n        this.email = \"\";\r\n        this.existingMembers = [];\r\n        this.existingBillNames = [];\r\n        this.state = this.init();\r\n    }\r\n\r\n    init = ()=>{\r\n        return {\r\n            members: [],\r\n            alreadyExists: false,\r\n            isDataAvailable: false,\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isLoading: false,\r\n        };\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    getExistingMemberObjects = (existingMembers) => {\r\n        let membersArray = [];\r\n        if(existingMembers.length!==0){\r\n                membersArray = existingMembers.map(member=> {\r\n                if(member.toUpperCase()===\"ME\") return {name: member, isPart: true}\r\n                return {name: member, isPart: false}\r\n            })\r\n        }\r\n        return membersArray;\r\n    }\r\n\r\n    getMembersList = (members) =>{\r\n        return members.map(\r\n            (member, i)=> \r\n                <NewNameChip \r\n                    memberName={member.name} \r\n                    isPart={member.isPart} \r\n                    isEditable={true}\r\n                    key={i} \r\n                    index={i} \r\n                    toggleIsPart={this.toggleIsPart}\r\n                />\r\n        )\r\n    }\r\n    \r\n    addMember = (name) =>{\r\n        const allMembers = this.state.members;\r\n        for(let i=0;i<allMembers.length;i++){\r\n            if(allMembers[i].name.toUpperCase()===name.toUpperCase()){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                return -1;\r\n            };\r\n        }\r\n\r\n        this.setState({\r\n            member: this.state.members.push({name, isPart: true}),\r\n            alreadyExists: false\r\n        });\r\n        return 0;\r\n    }\r\n\r\n    toggleIsPart = (key) => {\r\n        const allMembers = this.state.members;\r\n        allMembers[key].isPart = !allMembers[key].isPart;\r\n        this.setState({\r\n            members: allMembers\r\n        })\r\n        // console.log(this.state);\r\n    }\r\n\r\n    createNewBill = (billName)=>{\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        return new Promise((resolve, reject)=> {\r\n            let billMembers = [];\r\n            let newMembers = [];\r\n            const existingMembers = this.existingMembers;\r\n            this.state.members.forEach(member=>{\r\n                if(member.isPart) {\r\n                    billMembers.push(member.name);\r\n                    if(existingMembers.includes(member.name)===false){\r\n                        newMembers.push(member.name);\r\n                    }\r\n                }\r\n            })\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    this.setState({\r\n                        isLoading: false\r\n                    })\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const currentBill = response.bill;\r\n                    // this.props.setAppState(\"currentBill\", currentBill.billName);\r\n                    const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n                    let existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n                    existingMembers = existingMembers.concat(newMembers);\r\n                    existingBillNames.push(currentBill.billName);\r\n                    localStorage.setItem(\"existingMembers\", JSON.stringify(existingMembers));\r\n                    localStorage.setItem(\"existingBillNames\", JSON.stringify(existingBillNames));\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/createbill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/createbill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.setRequestHeader(\"members\", JSON.stringify(billMembers));\r\n            xhr.setRequestHeader(\"newmembers\", JSON.stringify(newMembers));\r\n            xhr.send();\r\n        });\r\n        \r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        if(!this.state.isLoading){\r\n            this.getExistingAssets();\r\n        }\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    getExistingAssets = () => {\r\n        return new Promise((resolve, reject)=>{\r\n        \r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const asset = response.asset;\r\n                    const existingBillNames = asset.existingBillNames;\r\n                    this.existingMembers = asset.existingMembers;\r\n                    const members = this.getExistingMemberObjects(asset.existingMembers);\r\n                    this.setState({\r\n                        existingBillNames,\r\n                        members,\r\n                        isDataAvailable: true\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getexisitingassets\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getexisitingassets\");\r\n            xhr.setRequestHeader(\"email\", localStorage.getItem(\"email\"));\r\n            xhr.send();\r\n        })\r\n    }\r\n    \r\n    \r\n    renderForm = () => {\r\n        return (\r\n        <div className=\"newBillForm\" style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'} : {opacity: 1, pointerEvents: 'auto'} }>\r\n            <Notification message={\"Select From list\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n            <NewMembersForm addMember={this.addMember} />\r\n            <NewBillNameForm \r\n                createNewBill={this.createNewBill} \r\n                setTitle={this.props.setTitle} \r\n                existingBillNames={this.existingBillNames}\r\n                isInEditMode={false}\r\n            />\r\n            <div className=\"newMembers\">\r\n                {this.getMembersList(this.state.members)}\r\n            </div>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div>\r\n            \r\n            {this.state.isSignedIn ? \r\n                this.state.isDataAvailable ? \r\n                    this.renderForm() : this.getLoadingScreen() \r\n                : \r\n                <GetUser setAppState={this.props.setAppState} />\r\n            }\r\n            \r\n            {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewBillForm\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport class Error404 extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"error404Container\">\r\n                <span className=\"errorCode\" style={{fontSize: '70px'}}>404</span>\r\n                <span>Page not found</span>\r\n                <span>{this.props.message}</span>\r\n                <span>Go to:</span>\r\n                <Link to=\"/home\"><i className=\"material-icons\">home</i></Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Error404\r\n","import React, { Component } from 'react';\r\nimport NewNameChip from './NewNameChip';\r\nimport NewMembersForm from './NewMembersForm';\r\nimport NewBillNameForm from './NewBillNameForm';\r\nimport Notification from './Notification';\r\n// import { Link } from 'react-router-dom';\r\nimport GetUser from './GetUser';\r\nimport Error404 from './error404';\r\n\r\nexport class EditBillForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.props.setAppState(\"title\",\"Edit Bill\");\r\n        this.email = \"\";\r\n        this.billName = \"\";\r\n        this.existingMembers = [];\r\n        this.state = {\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isBillExist: true,\r\n            isDataAvailable: false,\r\n            members: [],\r\n            alreadyExists: false,\r\n            errorMessage: '',\r\n            isLoading: false\r\n        }\r\n    }\r\n\r\n    // init = ()=>{\r\n    //     setTimeout(()=>{console.log(this.state);},5000);\r\n    //     return {\r\n    //         isSignedIn: this.getSignedInStatus(),\r\n    //         members: [],\r\n    //         alreadyExists: false,\r\n    //         isDataAvailable: false,\r\n    //     };\r\n    // }\r\n\r\n    getBillName = () => {\r\n        const pathname = document.location.pathname;\r\n        if(pathname===\"/manage\" || pathname===\"/manage/\"){\r\n            return \"\";\r\n        }\r\n        let billName = pathname.split(\"/\");\r\n        billName = billName[billName.length-1];\r\n        const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n        if(existingBillNames.includes(billName)){\r\n            return billName;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.billName = this.getBillName();\r\n            this.existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    getExistingMemberObjects = (billMembers,existingMembers) => {\r\n        let membersArray = [];\r\n        if(existingMembers.length!==0){\r\n                membersArray = existingMembers.map(member=> {\r\n                if(billMembers.includes(member)) return {name: member, isPart: true, isEditable: false}\r\n                return {name: member, isPart: false, isEditable: true}\r\n            })\r\n        }\r\n        return membersArray;\r\n    }\r\n\r\n    getMembersList = (members) =>{\r\n        return members.map(\r\n            (member, i)=> \r\n                <NewNameChip \r\n                    memberName={member.name} \r\n                    isPart={member.isPart} \r\n                    isEditable={member.isEditable}\r\n                    key={i} \r\n                    index={i} \r\n                    toggleIsPart={this.toggleIsPart}\r\n                />\r\n        )\r\n    }\r\n    \r\n    addMember = (name) =>{\r\n        const allMembers = this.state.members;\r\n        for(let i=0;i<allMembers.length;i++){\r\n            if(allMembers[i].name.toUpperCase()===name.toUpperCase()){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                return -1;\r\n            };\r\n        }\r\n\r\n        this.setState({\r\n            member: this.state.members.push({name, isPart: true, isEditable: true}),\r\n            alreadyExists: false\r\n        });\r\n        return 0;\r\n    }\r\n\r\n    toggleIsPart = (key) => {\r\n        const allMembers = this.state.members;\r\n        allMembers[key].isPart = !allMembers[key].isPart;\r\n        this.setState({\r\n            members: allMembers\r\n        })\r\n        // console.log(this.state);\r\n    }\r\n\r\n    editBill = (billName)=>{\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        return new Promise((resolve, reject)=> {\r\n            let billMembers = [];\r\n            let newMembers = [];\r\n            const existingMembers = this.existingMembers;\r\n            this.state.members.forEach(member=>{\r\n                if(member.isPart) {\r\n                    billMembers.push(member.name);\r\n                    if(existingMembers.includes(member.name)===false){\r\n                        newMembers.push(member.name);\r\n                    }\r\n                }\r\n            })\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    this.setState({\r\n                        isLoading: false\r\n                    })\r\n                    // const response = JSON.parse(xhr.responseText);\r\n                    // const currentBill = response.bill;\r\n                    let existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n                    existingMembers = existingMembers.concat(newMembers);\r\n                    localStorage.setItem(\"existingMembers\", JSON.stringify(existingMembers));\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/addmembertobill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/addmembertobill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.setRequestHeader(\"members\", JSON.stringify(billMembers));\r\n            xhr.setRequestHeader(\"newmembers\", JSON.stringify(newMembers));\r\n            xhr.send();\r\n        });\r\n        \r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        if(!this.state.isLoading){\r\n            this.getExistingAssets();\r\n        }\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    getExistingAssets = () => {\r\n        return new Promise((resolve, reject)=>{\r\n        \r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    // console.log(response)\r\n                    const billMembers = response.members;\r\n                    const members = this.getExistingMemberObjects(billMembers, this.existingMembers);\r\n                    this.setState({\r\n                        members,\r\n                        isDataAvailable: true,\r\n                    });\r\n                    resolve(true);\r\n                }else if(xhr.readyState===4 && xhr.status===404){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const errorMessage = response.message;\r\n                    this.setState({\r\n                        isBillExist: false,\r\n                        errorMessage\r\n                    })\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getbillmembers\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getbillmembers\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", this.billName);\r\n            xhr.send();\r\n        })\r\n    }\r\n    \r\n    \r\n    renderForm = () => {\r\n        return (\r\n        <div className=\"newBillForm\" style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'}:{opacity: 1, pointerEvents: 'auto'} }>\r\n            <Notification message={\"Select From list\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n            <NewMembersForm addMember={this.addMember} />\r\n            <NewBillNameForm \r\n                setTitle={this.props.setTitle} \r\n                existingBillNames={this.existingBillNames}\r\n                isInEditMode={true}\r\n                billName={this.billName}\r\n                editBill={this.editBill}\r\n            />\r\n            <div className=\"newMembers\">\r\n                {this.getMembersList(this.state.members)}\r\n            </div>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div>\r\n            \r\n            {this.state.isSignedIn ?\r\n                this.state.isBillExist ?  \r\n                    this.state.isDataAvailable ? \r\n                        this.renderForm() : this.getLoadingScreen() \r\n                :\r\n                <Error404 message={this.state.errorMessage}/>\r\n            : \r\n            <GetUser setAppState={this.props.setAppState} />\r\n            }\r\n            \r\n            {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditBillForm\r\n","import React, { Component } from 'react'\r\n\r\nexport class BillItemForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            itemName: '',\r\n            itemAmount: ''\r\n        }\r\n    }\r\n    \r\n    handleItemNameChange = (event) => {\r\n\r\n        this.setState({\r\n            itemName: event.target.value\r\n        });\r\n\r\n        // console.log(this.state.itemName);\r\n    }\r\n    \r\n    handleItemAmountChange = (event) => {\r\n        this.setState({\r\n            itemAmount: event.target.value\r\n        })\r\n        // console.log(this.state.itemAmount);\r\n    }\r\n\r\n    getRowContainerStyles = () => {\r\n        return {\r\n            display: 'flex', \r\n            flexDirection: 'row', \r\n            marginTop: '5px', \r\n            justifyContent: 'space-between',\r\n            alignItems: 'center'\r\n        }\r\n    }\r\n\r\n    areInputsInvalid = () => {\r\n        let isNameInvalid=false, isAmountInvalid=false;\r\n        const itemNameContainer = document.getElementById('itemName');\r\n        const itemAmountContainer = document.getElementById('itemAmount');\r\n        const name = this.state.itemName;\r\n        const amount = this.state.itemAmount;\r\n\r\n        itemNameContainer.style.borderBottom = '1px solid var(--white)'\r\n        itemAmountContainer.style.borderBottom = '1px solid var(--white)'\r\n        if(name===''){\r\n            itemNameContainer.style.borderBottom = '1px solid var(--red)';\r\n            isNameInvalid=true;\r\n        }\r\n        if(isNaN(parseFloat(amount))){\r\n            itemAmountContainer.style.borderBottom = '1px solid var(--red)';\r\n            isAmountInvalid=true;\r\n        }\r\n        if(isNameInvalid || isAmountInvalid){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getNameAndAmount = ()=>{\r\n        return [this.state.itemName, parseFloat(parseFloat(this.state.itemAmount).toFixed(2))]\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if(this.areInputsInvalid()) return;\r\n        // console.log(\"Valid Inputs:\", this.state.itemAmount, this.state.itemName);\r\n\r\n\r\n        // INPUTS ARE VALID\r\n        const itemDetails = this.getNameAndAmount();\r\n        const name = itemDetails[0];\r\n        const amount = itemDetails[1];\r\n        this.props.setNameAndAmount(name, amount);\r\n        if(event.target.id==='split') this.props.splitChecked(name, amount);\r\n        else this.props.splitEqually(name, amount);\r\n        \r\n        \r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            itemName: '',\r\n            itemAmount: ''\r\n            \r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <form name=\"billItemForm\" className=\"billItemForm\" onSubmit={this.handleSubmit}>\r\n                    <input type=\"text\" placeholder=\"item name\" id=\"itemName\" className=\"appInputs\" value={this.state.itemName} onChange={this.handleItemNameChange}/>\r\n                    <div style={this.getRowContainerStyles()}>\r\n                        <input \r\n                            type=\"number\"\r\n                            step=\"any\" \r\n                            placeholder=\"0.00\" \r\n                            id=\"itemAmount\" \r\n                            className=\"appInputs\" \r\n                            style={{width: \"55%\"}} \r\n                            value={this.state.itemAmount} \r\n                            onChange={this.handleItemAmountChange}\r\n                        />\r\n                        <div>\r\n                            <span className=\"text-icons\" id=\"split\" onClick={this.handleSubmit}>Split</span>\r\n                            <span className=\"text-icons\" id=\"splitequal\" onClick={this.handleSubmit}>Split=</span>\r\n                        </div>\r\n                    </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BillItemForm\r\n","import React, { Component } from 'react'\r\nimport BillItemForm from './BillItemForm'\r\nimport GetUser from './GetUser';\r\nimport { Link } from 'react-router-dom';\r\nimport Error404 from './error404';\r\n\r\nexport class ManageBill extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.billName = \"\";\r\n        this.email = \"\";\r\n        this.members = [];\r\n        this.currentBillId = '';\r\n        // this.state = this.initState();\r\n        this.state = {\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isBillExist: this.billName === \"\" ? false : true,\r\n            isDataAvailable: false,\r\n            billName: this.billName,\r\n            itemName: '', \r\n            itemAmount: 0.00,\r\n            total: 0.00, \r\n            remaining: 0.00, \r\n            receipt: [], \r\n            paidBy: ''\r\n        }\r\n        \r\n    }\r\n\r\n    getTitle = (billName) => {\r\n        return billName.replace(\"-\", \" \");\r\n    }\r\n\r\n    getBillName = () => {\r\n        const pathname = document.location.pathname;\r\n        if(pathname===\"/manage\" || pathname===\"/manage/\"){\r\n            return \"\";\r\n        }\r\n        let billName = pathname.split(\"/\");\r\n        billName = billName[billName.length-1];\r\n        const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n        if(existingBillNames.includes(billName)){\r\n            return billName;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.billName = this.getBillName();\r\n            this.props.setAppState(\"title\",this.getTitle(this.billName));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleSplitAmountChange = (event)=>{\r\n        const member = event.target.name;\r\n        const memberState = this.state[`${member}`];\r\n        memberState.amount = event.target.value;\r\n        this.setState({\r\n            [member]: memberState\r\n        })\r\n    }\r\n\r\n    \r\n    getMembers = (members) => {\r\n        return (\r\n            members.map((member, i)=>{\r\n                const memberState = this.state[`${member}`];\r\n                return <tr key={i}>\r\n                    <td width=\"70%\" onClick={()=>{this.toggleIsChecked(member,i)}}>\r\n                        {member}\r\n                    </td>\r\n                    <td style={{textAlign: \"right\", marginRight: '5px'}}>\r\n                        <input \r\n                        type=\"number\" \r\n                        step=\"any\"\r\n                        className=\"appInputs\" \r\n                        onChange={this.handleSplitAmountChange} \r\n                        value={memberState.amount} \r\n                        style={{width: \"70px\"}} \r\n                        name={`${member}`} \r\n                        id={`${i}-splitAmount`}\r\n                        placeholder=\"0.00\"\r\n                        disabled = {memberState.isChecked ? \"\" : \"disabled\"} \r\n                        />\r\n                    </td>\r\n                    <td>\r\n                        <i className=\"material-icons\" style={{fontSize: 'x-large'}} onClick={()=>{this.toggleIsChecked(member,i)}}>\r\n                            {memberState.isChecked ? 'check_circle_outline' : 'radio_button_unchecked'}\r\n                        </i>\r\n                    </td>\r\n                </tr>\r\n            })\r\n        )\r\n    }\r\n\r\n    toggleIsChecked = (member) => {\r\n        const memberState = this.state[`${member}`];\r\n        memberState.isChecked = !memberState.isChecked;\r\n        this.setState({\r\n            [member]: memberState\r\n        });\r\n    }\r\n\r\n    toggleIsDue = (member) => {\r\n        document.getElementById('memberWiseReceipt').style.opacity = 0.5;\r\n        document.getElementById('memberWiseReceipt').style.pointerEvents = \"none\";\r\n        let updatedReceipt = this.state.receipt;\r\n        const memberIndex = this.members.indexOf(member);\r\n        const memberReceipt = this.state.receipt[memberIndex];\r\n        memberReceipt.isDue = !memberReceipt.isDue;\r\n        updatedReceipt[memberIndex]=memberReceipt;\r\n        \r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState===4 && xhr.status===200){ \r\n            document.getElementById('memberWiseReceipt').style.opacity = 1;\r\n            document.getElementById('memberWiseReceipt').style.pointerEvents = \"auto\";\r\n                this.setState({\r\n                    receipt: updatedReceipt\r\n                });\r\n            }\r\n        }\r\n        // xhr.open(\"GET\", \"http://localhost:3090/api/v1/updatereceipt\");\r\n        xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/updatereceipt\");\r\n        xhr.setRequestHeader(\"email\", this.email);\r\n        xhr.setRequestHeader(\"billname\", this.billName);\r\n        xhr.setRequestHeader(\"receipt\", JSON.stringify(updatedReceipt));\r\n        xhr.send();\r\n\r\n        // CALL API\r\n    }\r\n\r\n    areInputsInvalid = (itemAmount) => {\r\n        var isInvalid = false;\r\n        let total=0;\r\n        this.members.forEach((member) => {\r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                if(isNaN(parseFloat(memberState.amount))){\r\n                    isInvalid = true;\r\n                    document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--red)'\r\n                }else{\r\n                    total+=parseFloat(memberState.amount);\r\n                }\r\n            }\r\n        })\r\n        total = parseFloat(total.toFixed(2));\r\n        if(isInvalid) return true;\r\n        \r\n        this.setState({\r\n            total: total,\r\n            remaining: (itemAmount-total).toFixed(2)\r\n        })\r\n\r\n        if(Math.abs(itemAmount-total)>1) return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    handleSplitFormSubmit = (event)=> {\r\n        event.preventDefault();\r\n        document.getElementById('memberWiseReceipt').style.opacity = 0.5;\r\n        document.getElementById('memberWiseReceipt').style.pointerEvents = \"none\";\r\n        if(this.refs.itemForm.areInputsInvalid()) return;\r\n        const itemDetails = this.refs.itemForm.getNameAndAmount();\r\n        this.setNameAndAmount(itemDetails[0], itemDetails[1]);\r\n        if(this.areInputsInvalid(itemDetails[1])) return;\r\n\r\n        // GENERATE ITEM BILL OBJECT\r\n        let splitInto = [];\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                // splitInto.push({[member]: parseFloat(memberState.amount)})   \r\n                splitInto.push({name: member, amount: parseFloat(memberState.amount)})\r\n            }\r\n        })\r\n        let bill = {\r\n            itemName: this.state.itemName, \r\n            paidBy: this.state.paidBy, \r\n            itemAmount: parseFloat(this.state.itemAmount), \r\n            splitInto: splitInto\r\n        };\r\n        const receipt = this.generateReceipt(bill);\r\n\r\n        // console.log(\"Calling the api\");\r\n        // MAKE API CALL TO UPDATE RECEIPT\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState===4 && xhr.status===200){\r\n                \r\n            document.getElementById('memberWiseReceipt').style.opacity = 1;\r\n            document.getElementById('memberWiseReceipt').style.pointerEvents = \"auto\";\r\n                this.setState({\r\n                    receipt: receipt\r\n                });\r\n            }\r\n        }\r\n        // xhr.open(\"GET\", \"http://localhost:3090/api/v1/updatereceipt\");\r\n        xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/updatereceipt\");\r\n        xhr.setRequestHeader(\"email\", this.email);\r\n        xhr.setRequestHeader(\"billname\", this.billName);\r\n        xhr.setRequestHeader(\"receipt\", JSON.stringify(receipt));\r\n        xhr.send();\r\n\r\n        // RESET FORMS\r\n        this.resetSplitForm();\r\n        this.refs.itemForm.reset();\r\n    }\r\n\r\n    changePaidBy = (event) => {\r\n        this.setState({\r\n            paidBy: event.target.id\r\n        })\r\n    }\r\n\r\n    getMemberNameChips = () => {\r\n        return this.members.map((member, i)=>{\r\n            return <span \r\n                key={i} \r\n                className=\"nameChip\"\r\n                id={member}\r\n                onClick={this.changePaidBy} \r\n                style={{opacity: this.state.paidBy===member ? 1 : 0.3}}\r\n                >\r\n                    {member}\r\n                </span>\r\n        })\r\n    }\r\n\r\n    getSplitForm = ()=> {\r\n        return <table style={{width: \"100%\"}} className=\"splitAmounts\">\r\n        <tbody>\r\n        {this.getMembers(this.members)}\r\n        <tr>\r\n            <td width=\"70%\" style={{textAlign: \"right\", fontSize: \"medium\"}}>Total: </td>\r\n            <td colSpan=\"2\">{this.state.total.toFixed(2)}</td>\r\n        </tr>\r\n        <tr style={{color: Math.abs(this.state.remaining) > 1 ? 'var(--red)' : 'var(--white)'}}>\r\n            <td width=\"70%\" style={{textAlign: \"right\", fontSize: \"medium\"  }}>Remaining: </td>\r\n            <td colSpan=\"2\">{this.state.remaining}</td>\r\n        </tr>\r\n        <tr>\r\n            <td colSpan=\"3\">Paid By:</td>\r\n        </tr>\r\n        <tr>\r\n            <td className=\"nameChipContainer\">\r\n                {this.getMemberNameChips()}\r\n            </td>\r\n            <td colSpan=\"2\" style={{textAlign: \"right\"}}>\r\n                <i className=\"material-icons\" onClick={this.handleSplitFormSubmit}>add_circle</i>\r\n            </td>\r\n        </tr>\r\n        </tbody>\r\n        </table>\r\n    }\r\n\r\n    setNameAndAmount = (name, amount) => {\r\n        this.setState({\r\n            itemName: name,\r\n            itemAmount: amount\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    splitChecked = (name, amount) => {\r\n        let checkedCount=0;\r\n        let lessAmount=0;\r\n        let assignTo = [];\r\n        let isInvalid = false;\r\n        this.members.forEach(member => {\r\n            \r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                \r\n                if(memberState.amount===''){\r\n                    ++checkedCount;\r\n                    assignTo.push(member);\r\n                }\r\n                else if(isNaN(memberState.amount)){\r\n                    isInvalid=true;\r\n                    document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--red)';\r\n                }\r\n                else{\r\n                    lessAmount+=memberState.amount;    \r\n                }\r\n            }\r\n        })\r\n        if(isInvalid) return;\r\n\r\n        amount=amount-lessAmount;\r\n        const parts = parseFloat((amount/checkedCount).toFixed(2));\r\n        assignTo.forEach(member=>{\r\n            let memberState = this.state[`${member}`];\r\n            memberState.amount = parts;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    splitEqually = (name, amount) => {\r\n        let assignTo = [];\r\n        this.members.forEach(member => {\r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                assignTo.push(member);\r\n            }\r\n        })\r\n\r\n        const parts = parseFloat((amount/assignTo.length).toFixed(2));\r\n        // console.log(typeof parts);\r\n        assignTo.forEach(member=>{\r\n            let memberState = this.state[`${member}`];\r\n            memberState.amount = parts;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    resetSplitForm = () => {\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            memberState.amount = '';\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    selectAllMembers = () => {\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            memberState.isChecked = true;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    getSplitIntoMembers = (splitInto) => {\r\n        return splitInto.map((member, i)=>{\r\n            const name = member.name;\r\n            const amount = member.amount;\r\n            return <tr key={i}>\r\n                <td>{name}</td>\r\n                <td style={{textAlign: \"right\"}}>{amount.toFixed(2)}</td>\r\n            </tr>\r\n        })\r\n    }\r\n\r\n    renderItem = (name, amount, key) => {\r\n        return <tr key={key}>\r\n            <td>{name}</td>\r\n            <td>{amount.toFixed(2)}</td>\r\n        </tr>\r\n    }\r\n\r\n    renderReceiptItems = (itemList) => {\r\n        let itemListView = [];\r\n        // let key=0;\r\n        itemList.forEach((item,i)=>{\r\n            itemListView.push(this.renderItem(item.name, item.amount, i));\r\n        })\r\n        // for(let item in itemList){\r\n        //     itemListView.push(this.renderItem(item, itemList[item], key++));\r\n        // }\r\n        return itemListView;\r\n    }\r\n\r\n    getReceiptView = (name, memberReceipt, key) => {\r\n        const paidByMeTotal = memberReceipt.paidByMeTotal;\r\n        const paidForMeTotal = memberReceipt.paidForMeTotal;\r\n\r\n        return <div key={key}> \r\n        <div className=\"memberReceiptView\" >\r\n            {/* BRIEFS TABLE */}\r\n            <div> \r\n                <table><tbody>\r\n                    <tr>\r\n                        <td><ins><strong>{name}</strong></ins></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>paid</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidByMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td  style={{fontSize: 'small'}}>owes</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidForMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>total</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{(paidByMeTotal-paidForMeTotal).toFixed(2)}</td>\r\n                    </tr>\r\n                </tbody></table>\r\n            </div>\r\n            {/* PAID BY ME TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>paid</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidByMe)}\r\n                </tbody></table>\r\n            </div>\r\n            \r\n            {/* OWES TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>owes</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidForMe)}\r\n                </tbody></table>\r\n            </div>\r\n        </div>\r\n        <div className=\"dueStatus\">\r\n            <i className=\"material-icons\" \r\n                onClick={()=>{this.toggleIsDue(name)}}\r\n                style={{color: memberReceipt.isDue ? \"var(--white)\" : \"var(--green)\", fontSize: 'x-large'}}\r\n            >\r\n                {memberReceipt.isDue ? \"watch_later\" : \"done_all\"}\r\n            </i>\r\n        </div>\r\n        </div>\r\n    }\r\n\r\n\r\n    renderReceipt = () => {\r\n        let receipt = this.state.receipt;\r\n        // console.log(receipt);\r\n        let receiptView = [];\r\n        // let key = 0;\r\n        receipt.forEach((member, i)=>{\r\n            receiptView.push(this.getReceiptView(member.name, receipt[i], i));\r\n        })\r\n        // for(let member in receipt){\r\n        //     receiptView.push(this.getReceiptView(member, receipt[member] ,key++))\r\n        // }\r\n        return receiptView;\r\n    }\r\n\r\n    generateReceipt = (bill) => {\r\n        let receipt = this.state.receipt;\r\n        \r\n        // console.log(item);\r\n        // ADD PAID BY DETAILS\r\n        const paidBy = bill.paidBy;\r\n        const memberIndex = this.members.indexOf(paidBy);\r\n        let memberReceipt= receipt[memberIndex];\r\n        // memberReceipt.paidByMe = {...memberReceipt.paidByMe, [bill.itemName]: bill.itemAmount}\r\n        memberReceipt.paidByMe.push({name: bill.itemName, amount: bill.itemAmount});\r\n        memberReceipt.paidByMeTotal += bill.itemAmount;\r\n\r\n        // ADD PAID FOR DETAILS\r\n        bill.splitInto.forEach(member=>{\r\n            const memberName = member.name;\r\n            const memberIndex = this.members.indexOf(memberName);\r\n            memberReceipt = receipt[memberIndex];\r\n            const splitAmount = member.amount;\r\n            // memberReceipt.paidForMe = {...memberReceipt.paidForMe, [bill.itemName]: splitAmount}\r\n            memberReceipt.paidForMe.push({name: bill.itemName, amount: splitAmount});\r\n            memberReceipt.paidForMeTotal += splitAmount;\r\n        });\r\n        \r\n        // console.log(receipt);\r\n        // this.setState({\r\n        //     receipt: receipt\r\n        // })\r\n        return receipt;\r\n    }\r\n\r\n    getBill = () => {\r\n        return new Promise((resolve, reject)=>{\r\n            const billName = this.state.billName;\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    // console.log(response);\r\n                    const bill = response.bill;\r\n                    this.members = bill.members;\r\n                    \r\n                    this.members.forEach((member)=>{\r\n                        this.setState({\r\n                            [member]: {isChecked: true, amount: ''}\r\n                        })\r\n                    })\r\n                    this.setState({\r\n                        receipt: bill.receipt,\r\n                        paidBy: this.members[0],\r\n                        isDataAvailable: true,\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getbill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getbill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.send();\r\n        })\r\n    }\r\n\r\n    renderBillItemForm = () => {\r\n        return (\r\n            <div className=\"manageBill\">\r\n                <BillItemForm \r\n                    ref=\"itemForm\"\r\n                    splitChecked={this.splitChecked} \r\n                    splitEqually={this.splitEqually} \r\n                    setNameAndAmount={this.setNameAndAmount}\r\n\r\n                />\r\n                <form name=\"splitForm\" className=\"splitForm\">\r\n                    <div style={{textAlign: \"right\", marginBottom: \"15px\"}}>\r\n                    <Link to={`/editbill/${this.billName}`}><span className=\"text-icons\" style={{fontSize: 'small'}}>Add Person</span></Link>\r\n                        <span className=\"text-icons\" style={{fontSize: 'small'}} onClick={this.selectAllMembers}>Select All</span>\r\n                        <span className=\"text-icons\" style={{fontSize: 'small'}} onClick={this.resetSplitForm}>Reset</span>\r\n                    </div>\r\n                    {this.getSplitForm()}\r\n                </form>\r\n                <div className=\"memberWiseReceipt\" id=\"memberWiseReceipt\">\r\n                    {this.renderReceipt()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        this.getBill();\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                this.state.isSignedIn ? \r\n                    this.state.isBillExist ? \r\n                        this.state.isDataAvailable ?\r\n                            this.renderBillItemForm()\r\n                            : \r\n                            this.getLoadingScreen()\r\n                        :\r\n                        <Error404 message={\"The bill you are looking for does not exist.\"}/>\r\n                    :\r\n                    <GetUser setAppState={this.props.setAppState} />\r\n                }\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default ManageBill\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class BillBrief extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            showReceipt: false\r\n        }\r\n    }\r\n\r\n    toggleShowReceipt = () => {\r\n        const showReceipt = this.state.showReceipt;\r\n        this.setState({\r\n            showReceipt: !showReceipt\r\n        })\r\n    }\r\n\r\n    getMembers = (members)=>{\r\n        return (\r\n            members.map((member, i)=>{\r\n                return <span className=\"billMember\" key={i}>{member}</span>\r\n            })\r\n        )\r\n    }\r\n\r\n    renderItem = (name, amount, key) => {\r\n        return <tr key={key}>\r\n            <td>{name}</td>\r\n            <td>{amount.toFixed(2)}</td>\r\n        </tr>\r\n    }\r\n\r\n    renderReceiptItems = (itemList) => {\r\n        let itemListView = [];\r\n        // let key=0;\r\n        itemList.forEach((item,i)=>{\r\n            itemListView.push(this.renderItem(item.name, item.amount, i));\r\n        })\r\n        // for(let item in itemList){\r\n        //     itemListView.push(this.renderItem(item, itemList[item], key++));\r\n        // }\r\n        return itemListView;\r\n    }\r\n\r\n    getReceiptView = (name, memberReceipt, key) => {\r\n        const paidByMeTotal = memberReceipt.paidByMeTotal;\r\n        const paidForMeTotal = memberReceipt.paidForMeTotal;\r\n\r\n        return <div key={key}> \r\n        <div className=\"memberReceiptView\" >\r\n            {/* BRIEFS TABLE */}\r\n            <div> \r\n                <table><tbody>\r\n                    <tr>\r\n                        <td><ins><strong>{name}</strong></ins></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>paid</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidByMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td  style={{fontSize: 'small'}}>owes</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidForMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>total</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{(paidByMeTotal-paidForMeTotal).toFixed(2)}</td>\r\n                    </tr>\r\n                </tbody></table>\r\n            </div>\r\n            {/* PAID BY ME TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>paid</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidByMe)}\r\n                </tbody></table>\r\n            </div>\r\n            \r\n            {/* OWES TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>owes</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidForMe)}\r\n                </tbody></table>\r\n            </div>\r\n        </div>\r\n        <div className=\"dueStatus\">\r\n            <i className=\"material-icons\" \r\n                style={{color: memberReceipt.isDue ? \"var(--white)\" : \"var(--green)\", fontSize: 'x-large'}}\r\n            >\r\n                {memberReceipt.isDue ? \"watch_later\" : \"done_all\"}\r\n            </i>\r\n        </div>\r\n        </div>\r\n    }\r\n\r\n    renderReceipt = () => {\r\n        let receipt = this.props.receipt;\r\n        // console.log(receipt);\r\n        let receiptView = [];\r\n        // let key = 0;\r\n        receipt.forEach((member, i)=>{\r\n            receiptView.push(this.getReceiptView(member.name, receipt[i], i));\r\n        })\r\n        // for(let member in receipt){\r\n        //     receiptView.push(this.getReceiptView(member, receipt[member] ,key++))\r\n        // }\r\n        return receiptView;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"detailedBill\">\r\n                <div className=\"billBrief\" id={this.props.id}>\r\n                    <div className=\"billBriefControls\">\r\n                        <i className=\"material-icons deleteIcon\" onClick={()=>{this.props.deleteBill(this.props.billName)}}>delete</i>\r\n                        <Link to={`/manage/${this.props.billName}`}><i className=\"material-icons editIcon\">edit</i></Link>\r\n                    </div>\r\n                    <div className=\"billBriefDetails\" onClick={this.toggleShowReceipt}>\r\n                        <div className=\"billDateAndName\">\r\n                            <div className=\"billName\">{this.props.billName.replace(\"-\", \" \")}</div>\r\n                            <div className=\"billDate\">{this.props.date}</div>\r\n                        </div>\r\n                        <div className=\"billMembers\">{this.getMembers(this.props.members)}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"receiptView\" style={this.state.showReceipt ? {display: 'block'} : {display: 'none'}}>{this.renderReceipt()}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BillBrief\r\n","import React, { Component } from 'react'\r\n\r\nexport class AlertMessage extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"alertMessage\" id=\"alertMessage\" style={this.props.style}>\r\n                <h3>Are you sure you want to delete the bill <span style={{textTransform: 'capitalize'}}>{this.props.billName.replace('-',' ')}</span>?</h3>\r\n                \r\n                <span style={{float: \"right\", padding: \"5px 10px\"}} onClick={this.props.cancelDeletion}>Cancel</span>\r\n                <span style={{float: \"right\", padding: \"5px 10px\"}} onClick={()=>{this.props.confirmDeletion(this.props.billName)}}>OK</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AlertMessage\r\n","import React, { Component } from 'react';\r\nimport BillBrief from './BillBrief';\r\nimport GetUser from './GetUser';\r\nimport AlertMessage from './AlertMessage';\r\n\r\nexport class AllBills extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.props.setTitle(\"All Bills\");\r\n        this.email = '';\r\n        this.state = {\r\n            allBills: [],\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isDataAvailable: false,\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        }\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    cancelDeletion = ()=>{\r\n        // console.log(\"deletion canceled.\");\r\n        this.setState({\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        })\r\n    }\r\n\r\n    confirmDeletion = (billName) => {\r\n        // console.log(\"deletion confirmed\");\r\n        this.setState({\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        });\r\n        // console.log(\"deleting\", billName);\r\n        document.getElementById(billName).style.opacity = 0.5;\r\n        document.getElementById(billName).style.pointerEvents = \"none\";\r\n        const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    document.getElementById(billName).style.opacity = 1;\r\n                    document.getElementById(billName).style.pointerEvents = \"auto\";\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const existingBillNames = response.existingBillNames;\r\n                    localStorage.setItem(\"existingBillNames\", JSON.stringify(existingBillNames));\r\n                    const allBills = this.state.allBills;\r\n                    let newAllBills = [];\r\n                    allBills.forEach(bill=>{\r\n                        if(bill.billName !== billName){\r\n                            newAllBills.push(bill);\r\n                        }\r\n                    })\r\n                    this.setState({\r\n                        allBills: newAllBills\r\n                    })\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/deletebill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/deletebill\");\r\n            xhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.send();\r\n    }\r\n\r\n\r\n    deleteBill = (billName) => {\r\n        this.setState({\r\n            isAlertBoxRequired: true,\r\n            billToBeDeleted: billName\r\n        });\r\n        \r\n    }\r\n    \r\n    getBillBrief = (bill, key) => {\r\n        return <BillBrief \r\n            key={key} \r\n            billName={bill.billName} \r\n            date={new Date(bill.dateCreated).toDateString()} \r\n            members={bill.members} \r\n            id={bill.billName} \r\n            deleteBill={this.deleteBill}\r\n            receipt={bill.receipt}\r\n        />\r\n    }\r\n\r\n    getAllBillBriefs = (allBills) => {\r\n        return allBills.map((bill, i)=>{\r\n            return this.getBillBrief(bill, i);\r\n        })\r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        this.getAllBills();\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n    \r\n    getAllBills = () => {\r\n        return new Promise((resolve, reject)=>{\r\n            const billNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const allBills = response.allBills;\r\n                    this.setState({\r\n                        allBills,\r\n                        isDataAvailable: true\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            \r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getallbills\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getallbills\");\r\n            xhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billnames\", JSON.stringify(billNames));\r\n                \r\n            xhr.send();\r\n\r\n            \r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n                <div id=\"allBillsContainer\" style={this.state.isAlertBoxRequired ? {pointerEvents: 'none', opacity: '0.5'} : {pointerEvents: 'auto', opacity: '1'}}>\r\n                    {this.state.isSignedIn ? \r\n                    this.state.isDataAvailable ? \r\n                        this.getAllBillBriefs(this.state.allBills)\r\n                        : \r\n                        this.getLoadingScreen() \r\n                    : \r\n                    <GetUser setAppState={this.props.setAppState}/>\r\n                    \r\n                }\r\n                </div>\r\n\r\n                <AlertMessage \r\n                    style={this.state.isAlertBoxRequired ? {display: 'block'} : {display: 'none'}} \r\n                    billName={this.state.billToBeDeleted}\r\n                    cancelDeletion={this.cancelDeletion}\r\n                    confirmDeletion={this.confirmDeletion}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AllBills\r\n","import React, { Component } from 'react'\r\n\r\n\r\n\r\nexport class TestLogin extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            name: '',\r\n            email: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.googleSDK();\r\n    }\r\n    \r\n    googleSDK() {\r\n \r\n        window['googleSDKLoaded'] = () => {\r\n          window['gapi'].load('auth2', () => {\r\n            this.auth2 = window['gapi'].auth2.init({\r\n              client_id: '748883507287-vd5sq0o1i30l6pk7vh4fuusi77voh1mp.apps.googleusercontent.com',\r\n              cookiepolicy: 'single_host_origin',\r\n              scope: 'profile email'\r\n            });\r\n            this.prepareLoginButton();\r\n          });\r\n        }\r\n       \r\n        (function(d, s, id){\r\n          var js, fjs = d.getElementsByTagName(s)[0];\r\n          if (d.getElementById(id)) {return;}\r\n          js = d.createElement(s); js.id = id;\r\n          js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\r\n          fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'google-jssdk'));\r\n       \r\n    }\r\n    \r\n    \r\n    prepareLoginButton = () => {\r\n \r\n        console.log(this.refs.googleLoginBtn);\r\n         \r\n        this.auth2.attachClickHandler(this.refs.googleLoginBtn, {},\r\n            (googleUser) => {\r\n         \r\n            let profile = googleUser.getBasicProfile();\r\n            console.log('Token || ' + googleUser.getAuthResponse().id_token);\r\n            console.log('ID: ' + profile.getId());\r\n            console.log('Name: ' + profile.getName());\r\n            console.log('Image URL: ' + profile.getImageUrl());\r\n            console.log('Email: ' + profile.getEmail());\r\n            //YOUR CODE HERE\r\n            const name = profile.getName();\r\n            const email = profile.getEmail();\r\n            this.setState({\r\n                name,\r\n                email\r\n            })\r\n         \r\n            }, (error) => {\r\n            alert(JSON.stringify(error, undefined, 2));\r\n            });\r\n         \r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"row mt-5\">  \r\n                <div className=\"col-md-12\">\r\n                    <h2 className=\"text-left\">Google Login Demo</h2>\r\n                    <div className=\"card mt-3\">\r\n                        <div className=\"card-body\">\r\n                             \r\n                            <div className=\"row mt-5 mb-5\">\r\n                                <div className=\"col-md-4 mt-2 m-auto \">\r\n                                    <button className=\"loginBtn loginBtn--google\" ref=\"googleLoginBtn\">\r\n                                        Login with Google\r\n                                    </button>\r\n                                </div>    \r\n                            </div>\r\n                        <div>\r\n                            <div>\r\n                                <span>Name: </span>\r\n                                <span>{this.state.name}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Email: </span>\r\n                                <span>{this.state.email}</span>\r\n                            </div>\r\n                        </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TestLogin\r\n","import React, { Component } from 'react';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport './App.css';\nimport Titlebar from './components/Titlebar';\nimport AddIcon from './components/AddIcon';\nimport NewBillForm from './components/NewBillForm';\nimport EditBillForm from './components/EditBillForm';\nimport ManageBill from './components/ManageBill';\nimport GetUser from './components/GetUser';\nimport AllBills from './components/AllBills';\nimport TestLogin from './components/TestLogin';\n\nexport class App extends Component {\n  constructor(props){\n    super(props);\n    this.state = this.init();\n  }\n\n  init = () => {\n    let appState = {\n      title: 'Log in',\n      existingMembers: [],\n      allBillNames: [],\n      currentBill: {}\n    }\n    window.resizeTo(450, 450)\n    return appState;\n  }\n\n  setTitle = (title) => {\n    this.setState({\n      title: title\n    })\n  }\n\n  setAppState = (key, value) => {\n    this.setState({\n      [key]: value\n    });\n  }\n\n  render() {\n    return (\n      <Router >\n        <Titlebar>{this.state.title}</Titlebar>\n        <Switch>\n          \n          {/* HOMEPAGE */}\n          <Route path=\"/home\">\n            <AddIcon></AddIcon>\n            <AllBills setTitle={this.setTitle} setAppState={this.setAppState}/>\n          </Route>\n\n          <Route path=\"/home:token\">\n            <div>Hello world</div>\n          </Route>\n          {/* CREATE NEW BILL */}\n          <Route path=\"/newbill\">\n            <NewBillForm \n              setTitle={this.setTitle} \n              existingMembers={this.state.existingMembers} \n              allBillNames={this.state.allBillNames}\n              email={this.state.email}\n              setAppState={this.setAppState}\n            />\n          </Route>\n\n          <Route path=\"/editbill/:id\">\n            <EditBillForm\n              setAppState={this.setAppState}\n            />\n          </Route>\n          \n          {/* MANAGE BILL */}\n          <Route path=\"/manage/:id\">\n            <ManageBill setTitle={this.setTitle} setAppState={this.setAppState} currentBill={this.state.currentBill} /> \n          </Route>\n            \n          {/* SIGN OR LOG IN */}\n          <Route path=\"/\">\n            <TestLogin />\n            {/* <GetUser setAppState={this.setAppState}/> */}\n          </Route>\n          \n        </Switch>\n      </Router>\n      \n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}