{"version":3,"sources":["components/Titlebar.js","components/AddIcon.js","components/NewNameChip.js","components/NewMembersForm.js","components/Notification.js","components/NewBillNameForm.js","components/GetUser.js","components/NewBillForm.js","components/error404.js","components/EditBillForm.js","components/BillItemForm.js","components/ManageBill.js","components/BillBrief.js","components/AlertMessage.js","components/AllBills.js","App.js","index.js"],"names":["Titlebar","className","to","style","fontSize","marginLeft","this","props","children","Component","AddIcon","NewNameChip","toggleIsMember","setState","isMember","state","toggleIsPart","index","isPart","onClick","isEditable","opacity","pointerEvents","memberName","color","NewMembersForm","value","handleChange","bind","handleSubmit","event","target","preventDefault","inputTag","document","getElementById","borderBottom","addMember","id","onSubmit","type","placeholder","onChange","Notification","message","NewBillNameForm","a","async","isInEditMode","billName","replace","toLowerCase","allBillNames","includes","alreadyExists","setTimeout","isLoading","editBill","createNewBill","click","formatBillName","name","existingBillNames","display","GetUser","getSignedInStatus","localStorage","getItem","email","componentDidMount","isSignedIn","googleSDK","getUserFromDatabase","prepareLoginButton","console","log","refs","googleLoginBtn","auth2","attachClickHandler","googleUser","profile","getBasicProfile","getName","getEmail","setItem","error","alert","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","JSON","parse","responseText","existingMembers","stringify","open","setRequestHeader","send","getStyle","position","top","bottom","left","right","flexDirection","justifyContent","alignItems","textAlign","getGoogleLoginButton","ref","src","alt","getLoadingScreen","setAppState","window","load","init","client_id","cookiepolicy","scope","d","s","js","fjs","getElementsByTagName","createElement","parentNode","insertBefore","NewBillForm","members","isDataAvailable","getExistingMemberObjects","membersArray","length","map","member","toUpperCase","getMembersList","i","key","allMembers","push","billMembers","newMembers","forEach","currentBill","bill","concat","getExistingAssets","asset","renderForm","setTitle","Error404","EditBillForm","getBillName","location","href","split","errorMessage","isBillExist","BillItemForm","handleItemNameChange","itemName","handleItemAmountChange","itemAmount","getRowContainerStyles","marginTop","areInputsInvalid","isNameInvalid","isAmountInvalid","itemNameContainer","itemAmountContainer","amount","isNaN","parseFloat","getNameAndAmount","toFixed","itemDetails","setNameAndAmount","splitChecked","splitEqually","reset","step","width","ManageBill","getTitle","handleSplitAmountChange","memberState","getMembers","toggleIsChecked","marginRight","disabled","isChecked","toggleIsDue","updatedReceipt","receipt","memberIndex","indexOf","memberReceipt","isDue","isInvalid","total","getElementsByName","remaining","Math","abs","handleSplitFormSubmit","itemForm","splitInto","paidBy","generateReceipt","resetSplitForm","changePaidBy","getMemberNameChips","getSplitForm","colSpan","checkedCount","lessAmount","assignTo","parts","selectAllMembers","getSplitIntoMembers","renderItem","renderReceiptItems","itemList","itemListView","item","getReceiptView","paidByMeTotal","paidForMeTotal","paidByMe","paidForMe","renderReceipt","receiptView","splitAmount","getBill","renderBillItemForm","marginBottom","currentBillId","BillBrief","toggleShowReceipt","showReceipt","deleteBill","date","AlertMessage","textTransform","float","padding","cancelDeletion","confirmDeletion","AllBills","isAlertBoxRequired","billToBeDeleted","allBills","newAllBills","getBillBrief","Date","dateCreated","toDateString","getAllBillBriefs","getAllBills","billNames","App","resizeTo","title","basename","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.f35815d8.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class Titlebar extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"titlebar\">\r\n                <div><Link to=\"/home\"><i className=\"material-icons\">home</i></Link></div>\r\n                <div style={{fontSize: 'xx-large', marginLeft: '10px'}}>{this.props.children}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Titlebar\r\n","import React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport class AddIcon extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"addnewIconContainer\">\r\n                <Link to=\"/newbill\"><i className=\"material-icons addnewIcon\">add_circle</i></Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddIcon\r\n","import React, { Component } from 'react'\r\n\r\nexport class NewNameChip extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            isMember: this.props.isPart\r\n        }\r\n    }\r\n    toggleIsMember = ()=>{\r\n        this.setState({\r\n            isMember: !this.state.isMember\r\n        })\r\n        this.props.toggleIsPart(this.props.index);\r\n    }\r\n    render() {\r\n        return (\r\n            <span \r\n            className=\"newNameChip\" \r\n            onClick={this.toggleIsMember} \r\n            style={this.state.isMember ? \r\n                this.props.isEditable ? \r\n                    {opacity: 1, pointerEvents: 'auto'} \r\n                : \r\n                    {opacity: 1, pointerEvents: 'none'}\r\n                :\r\n                {opacity: 0.5, pointerEvents: 'auto'}}\r\n            >\r\n                {this.props.memberName}\r\n                <i className=\"material-icons chipControlIcon\" style={this.state.isMember ? {color: 'var(--red)'} : {color: 'var(--green)'}}>\r\n                    {this.state.isMember ? 'cancel' : 'add_circle'}\r\n                </i>\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewNameChip\r\n","import React, { Component } from 'react'\r\n\r\nexport class NewMembersForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: ''};\r\n    \r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    \r\n    handleChange(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n    \r\n    handleSubmit(event) {\r\n        // console.log(\"handling event\");\r\n        event.preventDefault();\r\n        const inputTag = document.getElementById('newMemberName');\r\n        inputTag.style.borderBottom = '1px solid var(--white)';\r\n        if(this.state.value===''){\r\n            inputTag.style.borderBottom = '1px solid var(--red)';\r\n            return;\r\n        }\r\n        if(this.props.addMember(this.state.value)===-1) return;\r\n        this.setState({\r\n            value: ''\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <form id=\"newMemberNames\" className=\"newMemberNames\" onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" placeholder=\"member name\" className=\"appInputs\" id=\"newMemberName\" value={this.state.value} onChange={this.handleChange} />\r\n                <i className=\"material-icons\" onClick={this.handleSubmit}>add_circle</i>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewMembersForm\r\n","import React, { Component } from 'react'\r\n\r\nexport class Notification extends Component {\r\n    render() {\r\n        return (\r\n            <span \r\n                className=\"notification\" \r\n                id=\"notification\" \r\n                style={this.props.style}\r\n            >\r\n                {this.props.message}\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Notification from './Notification';\r\n\r\nexport class NewBillNameForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.isInEditMode = this.props.isInEditMode;\r\n        this.allBillNames = this.props.existingBillNames;\r\n        this.state = {\r\n            value: this.isInEditMode ? this.props.billName : '',\r\n            alreadyExists: false,\r\n        }\r\n    }\r\n    \r\n    handleChange = (event) => {\r\n        this.setState({\r\n            value: event.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = async (event) => {\r\n        if(!this.isInEditMode){\r\n            const inputTag = document.getElementById('newBillName');\r\n            inputTag.style.borderBottom = '1px solid var(--white)';\r\n            if(this.state.value===''){\r\n                inputTag.style.borderBottom = '1px solid var(--red)';\r\n                // event.preventDefault();\r\n                return;\r\n            }\r\n            const billName = this.state.value.replace(' ', '-').toLowerCase();\r\n            if(this.allBillNames.includes(billName)){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                // event.preventDefault();\r\n                return;\r\n            }\r\n        }\r\n        const billName = this.state.value.replace(' ', '-').toLowerCase();\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        this.isInEditMode ? await this.props.editBill(billName) : await this.props.createNewBill(billName);\r\n        document.getElementById('nextpagelink').click();\r\n    }\r\n\r\n    formatBillName = (name) => {\r\n        return name.replace(\" \", \"-\");\r\n    }\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                <div name=\"newBillName\" className=\"newBillName\">\r\n                    <Notification message={\"Bill with same exists\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"bill name\" \r\n                        className=\"appInputs\" \r\n                        id=\"newBillName\" \r\n                        value={this.state.value} \r\n                        onChange={this.handleChange} \r\n                        style={this.isInEditMode ? {pointerEvents: 'none'} : {pointerEvents: 'auto'}}\r\n                    />\r\n                    <i className=\"material-icons checkIcon\" onClick={this.handleSubmit}>check_circle</i>\r\n                    <Link to={`/manage/${this.formatBillName(this.state.value)}`} id=\"nextpagelink\"></Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewBillNameForm\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class GetUser extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.props.setAppState(\"title\", \"Login\");\r\n        this.email = ''\r\n        this.state={\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isLoading: false\r\n        }\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    componentDidMount = async () => {\r\n        if(!this.state.isSignedIn) {this.googleSDK()}\r\n        else{\r\n        const email=localStorage.getItem(\"email\");\r\n        const name=localStorage.getItem(\"name\");\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        await this.getUserFromDatabase(email, name);\r\n        this.setState({\r\n            isLoading: false\r\n        })\r\n\r\n        document.getElementById('linktohome').click();\r\n        }\r\n    }\r\n    \r\n    googleSDK() {\r\n        window['googleSDKLoaded'] = () => {\r\n          window['gapi'].load('auth2', () => {\r\n            this.auth2 = window['gapi'].auth2.init({\r\n              client_id: '748883507287-vd5sq0o1i30l6pk7vh4fuusi77voh1mp.apps.googleusercontent.com',\r\n              cookiepolicy: 'single_host_origin',\r\n              scope: 'profile email'\r\n            });\r\n            this.prepareLoginButton();\r\n          });\r\n        }\r\n       \r\n        (function(d, s, id){\r\n          var js, fjs = d.getElementsByTagName(s)[0];\r\n          if (d.getElementById(id)) {return;}\r\n          js = d.createElement(s); js.id = id;\r\n          js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\r\n          fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'google-jssdk'));\r\n       \r\n    }\r\n\r\n\r\n    \r\n    \r\n    prepareLoginButton = () => {\r\n \r\n        console.log(this.refs.googleLoginBtn);\r\n         \r\n        this.auth2.attachClickHandler(this.refs.googleLoginBtn, {},\r\n            async (googleUser) => {\r\n         \r\n            let profile = googleUser.getBasicProfile();\r\n            \r\n            //YOUR CODE HERE\r\n            const name = profile.getName();\r\n            const email = profile.getEmail();\r\n            this.setState({\r\n                name,\r\n                email\r\n            })\r\n            localStorage.setItem(\"email\", email);\r\n            localStorage.setItem(\"name\", name);\r\n            localStorage.setItem(\"isSignedIn\", \"true\");\r\n            this.setState({\r\n                isLoading: true\r\n            })\r\n            await this.getUserFromDatabase(email, name);\r\n            this.setState({\r\n                isLoading: false\r\n            })\r\n\r\n            document.getElementById('linktohome').click();\r\n         \r\n            }, (error) => {\r\n                // alert(JSON.stringify(error, undefined, 2));\r\n                alert(\"Some Error Occurred. Please try again\")\r\n            });\r\n         \r\n    }\r\n\r\n    getUserFromDatabase = (email, name) => {\r\n        return new Promise((resolve, reject)=>{\r\n            // MAKE API CALL HERE.\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    // console.log(xhr.responseText);\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const existingMembers = JSON.stringify(response.existingMembers);\r\n                    const existingBillNames = JSON.stringify(response.existingBillNames);\r\n                    localStorage.setItem(\"existingMembers\", existingMembers);\r\n                    localStorage.setItem(\"existingBillNames\", existingBillNames);\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getuser\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/getuser\");\r\n            xhr.setRequestHeader(\"email\", email);\r\n            xhr.setRequestHeader(\"name\", name);\r\n            xhr.send();\r\n        });    \r\n    }\r\n\r\n    getStyle = () => {\r\n        return {\r\n            position: 'fixed',\r\n            top: '0px',\r\n            bottom: '0px',\r\n            left: '0px',\r\n            right: '0px',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            textAlign: 'center'\r\n        }\r\n    }\r\n\r\n    getGoogleLoginButton = () => {\r\n        return (\r\n            <div style={this.getStyle()}>\r\n                <h2>You must be logged in to use this website.</h2>\r\n                \r\n                <div className=\"google-btn\" ref=\"googleLoginBtn\">\r\n                    <div className=\"google-icon-wrapper\">\r\n                        <img className=\"google-icon\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"G\"/>\r\n                    </div>\r\n                    <p className=\"btn-text\"><b>Sign in with google</b></p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Link to=\"/home\" id=\"linktohome\"></Link>\r\n                <div style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'}: {opacity: 1, pointerEvents: 'auto'}}>\r\n                    {\r\n                        this.state.isSignedIn ? \r\n                            ''\r\n                            :\r\n                            this.getGoogleLoginButton()\r\n                    }\r\n                </div>\r\n            \r\n                {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n            \r\n            </div>\r\n\r\n\r\n\r\n\r\n            // <div className=\"row mt-5\">  \r\n            // <Link to=\"/home\" id=\"linktohome\"></Link>\r\n            //     <div className=\"col-md-12\">\r\n            //         <h2 className=\"text-left\">Google Login Demo</h2>\r\n            //         <div className=\"card mt-3\">\r\n            //             <div className=\"card-body\">\r\n                             \r\n            //                 <div className=\"row mt-5 mb-5\">\r\n            //                     <div className=\"col-md-4 mt-2 m-auto \">\r\n            //                         <button className=\"loginBtn loginBtn--google\" ref=\"googleLoginBtn\">\r\n            //                             Login with Google\r\n            //                         </button>\r\n            //                     </div>    \r\n            //                 </div>\r\n            //             <div>\r\n            //                 <div>\r\n            //                     <span>Name: </span>\r\n            //                     <span>{this.state.name}</span>\r\n            //                 </div>\r\n            //                 <div>\r\n            //                     <span>Email: </span>\r\n            //                     <span>{this.state.email}</span>\r\n            //                 </div>\r\n            //                 <div>\r\n            //                     <span>Version: </span>\r\n            //                     <span>2</span>\r\n            //                 </div>\r\n            //             </div> \r\n            //             </div>\r\n            //         </div>\r\n            //     </div>\r\n            //     {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n            // </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GetUser\r\n","import React, { Component } from 'react';\r\nimport NewNameChip from './NewNameChip';\r\nimport NewMembersForm from './NewMembersForm';\r\nimport NewBillNameForm from './NewBillNameForm';\r\nimport Notification from './Notification';\r\n// import { Link } from 'react-router-dom';\r\nimport GetUser from './GetUser';\r\n\r\nexport class NewBillForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.props.setTitle(\"New Bill\");\r\n        this.email = \"\";\r\n        this.existingMembers = [];\r\n        this.existingBillNames = [];\r\n        this.state = this.init();\r\n    }\r\n\r\n    init = ()=>{\r\n        return {\r\n            members: [],\r\n            alreadyExists: false,\r\n            isDataAvailable: false,\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isLoading: false,\r\n        };\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    getExistingMemberObjects = (existingMembers) => {\r\n        let membersArray = [];\r\n        if(existingMembers.length!==0){\r\n                membersArray = existingMembers.map(member=> {\r\n                if(member.toUpperCase()===\"ME\") return {name: member, isPart: true}\r\n                return {name: member, isPart: false}\r\n            })\r\n        }\r\n        return membersArray;\r\n    }\r\n\r\n    getMembersList = (members) =>{\r\n        return members.map(\r\n            (member, i)=> \r\n                <NewNameChip \r\n                    memberName={member.name} \r\n                    isPart={member.isPart} \r\n                    isEditable={true}\r\n                    key={i} \r\n                    index={i} \r\n                    toggleIsPart={this.toggleIsPart}\r\n                />\r\n        )\r\n    }\r\n    \r\n    addMember = (name) =>{\r\n        const allMembers = this.state.members;\r\n        for(let i=0;i<allMembers.length;i++){\r\n            if(allMembers[i].name.toUpperCase()===name.toUpperCase()){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                return -1;\r\n            };\r\n        }\r\n\r\n        this.setState({\r\n            member: this.state.members.push({name, isPart: true}),\r\n            alreadyExists: false\r\n        });\r\n        return 0;\r\n    }\r\n\r\n    toggleIsPart = (key) => {\r\n        const allMembers = this.state.members;\r\n        allMembers[key].isPart = !allMembers[key].isPart;\r\n        this.setState({\r\n            members: allMembers\r\n        })\r\n        // console.log(this.state);\r\n    }\r\n\r\n    createNewBill = (billName)=>{\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        return new Promise((resolve, reject)=> {\r\n            let billMembers = [];\r\n            let newMembers = [];\r\n            const existingMembers = this.existingMembers;\r\n            this.state.members.forEach(member=>{\r\n                if(member.isPart) {\r\n                    billMembers.push(member.name);\r\n                    if(existingMembers.includes(member.name)===false){\r\n                        newMembers.push(member.name);\r\n                    }\r\n                }\r\n            })\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    this.setState({\r\n                        isLoading: false\r\n                    })\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const currentBill = response.bill;\r\n                    // this.props.setAppState(\"currentBill\", currentBill.billName);\r\n                    const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n                    let existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n                    existingMembers = existingMembers.concat(newMembers);\r\n                    existingBillNames.push(currentBill.billName);\r\n                    localStorage.setItem(\"existingMembers\", JSON.stringify(existingMembers));\r\n                    localStorage.setItem(\"existingBillNames\", JSON.stringify(existingBillNames));\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/createbill\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/createbill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.setRequestHeader(\"members\", JSON.stringify(billMembers));\r\n            xhr.setRequestHeader(\"newmembers\", JSON.stringify(newMembers));\r\n            xhr.send();\r\n        });\r\n        \r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        if(!this.state.isLoading){\r\n            this.getExistingAssets();\r\n        }\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    getExistingAssets = () => {\r\n        return new Promise((resolve, reject)=>{\r\n        \r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const asset = response.asset;\r\n                    const existingBillNames = asset.existingBillNames;\r\n                    this.existingMembers = asset.existingMembers;\r\n                    const members = this.getExistingMemberObjects(asset.existingMembers);\r\n                    this.setState({\r\n                        existingBillNames,\r\n                        members,\r\n                        isDataAvailable: true\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getexisitingassets\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/getexisitingassets\");\r\n            xhr.setRequestHeader(\"email\", localStorage.getItem(\"email\"));\r\n            xhr.send();\r\n        })\r\n    }\r\n    \r\n    \r\n    renderForm = () => {\r\n        return (\r\n        <div className=\"newBillForm\" style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'} : {opacity: 1, pointerEvents: 'auto'} }>\r\n            <Notification message={\"Select From list\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n            <NewMembersForm addMember={this.addMember} />\r\n            <NewBillNameForm \r\n                createNewBill={this.createNewBill} \r\n                setTitle={this.props.setTitle} \r\n                existingBillNames={this.existingBillNames}\r\n                isInEditMode={false}\r\n            />\r\n            <div className=\"newMembers\">\r\n                {this.getMembersList(this.state.members)}\r\n            </div>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div>\r\n            \r\n            {this.state.isSignedIn ? \r\n                this.state.isDataAvailable ? \r\n                    this.renderForm() : this.getLoadingScreen() \r\n                : \r\n                <GetUser setAppState={this.props.setAppState} />\r\n            }\r\n            \r\n            {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewBillForm\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport class Error404 extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"error404Container\">\r\n                <span className=\"errorCode\" style={{fontSize: '70px'}}>404</span>\r\n                <span>Page not found</span>\r\n                <span>{this.props.message}</span>\r\n                <span>Go to:</span>\r\n                <Link to=\"/home\"><i className=\"material-icons\">home</i></Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Error404\r\n","import React, { Component } from 'react';\r\nimport NewNameChip from './NewNameChip';\r\nimport NewMembersForm from './NewMembersForm';\r\nimport NewBillNameForm from './NewBillNameForm';\r\nimport Notification from './Notification';\r\n// import { Link } from 'react-router-dom';\r\nimport GetUser from './GetUser';\r\nimport Error404 from './error404';\r\n\r\nexport class EditBillForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.props.setAppState(\"title\",\"Edit Bill\");\r\n        this.email = \"\";\r\n        this.billName = \"\";\r\n        this.existingMembers = [];\r\n        this.state = {\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isBillExist: true,\r\n            isDataAvailable: false,\r\n            members: [],\r\n            alreadyExists: false,\r\n            errorMessage: '',\r\n            isLoading: false\r\n        }\r\n    }\r\n\r\n    // init = ()=>{\r\n    //     setTimeout(()=>{console.log(this.state);},5000);\r\n    //     return {\r\n    //         isSignedIn: this.getSignedInStatus(),\r\n    //         members: [],\r\n    //         alreadyExists: false,\r\n    //         isDataAvailable: false,\r\n    //     };\r\n    // }\r\n\r\n    getBillName = () => {\r\n        const pathname = document.location.href;\r\n        let billName = pathname.split(\"/\");\r\n        billName = billName[billName.length-1];\r\n        const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n        if(existingBillNames.includes(billName)){\r\n            return billName;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.billName = this.getBillName();\r\n            this.existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    getExistingMemberObjects = (billMembers,existingMembers) => {\r\n        let membersArray = [];\r\n        if(existingMembers.length!==0){\r\n                membersArray = existingMembers.map(member=> {\r\n                if(billMembers.includes(member)) return {name: member, isPart: true, isEditable: false}\r\n                return {name: member, isPart: false, isEditable: true}\r\n            })\r\n        }\r\n        return membersArray;\r\n    }\r\n\r\n    getMembersList = (members) =>{\r\n        return members.map(\r\n            (member, i)=> \r\n                <NewNameChip \r\n                    memberName={member.name} \r\n                    isPart={member.isPart} \r\n                    isEditable={member.isEditable}\r\n                    key={i} \r\n                    index={i} \r\n                    toggleIsPart={this.toggleIsPart}\r\n                />\r\n        )\r\n    }\r\n    \r\n    addMember = (name) =>{\r\n        const allMembers = this.state.members;\r\n        for(let i=0;i<allMembers.length;i++){\r\n            if(allMembers[i].name.toUpperCase()===name.toUpperCase()){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                return -1;\r\n            };\r\n        }\r\n\r\n        this.setState({\r\n            member: this.state.members.push({name, isPart: true, isEditable: true}),\r\n            alreadyExists: false\r\n        });\r\n        return 0;\r\n    }\r\n\r\n    toggleIsPart = (key) => {\r\n        const allMembers = this.state.members;\r\n        allMembers[key].isPart = !allMembers[key].isPart;\r\n        this.setState({\r\n            members: allMembers\r\n        })\r\n        // console.log(this.state);\r\n    }\r\n\r\n    editBill = (billName)=>{\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        return new Promise((resolve, reject)=> {\r\n            let billMembers = [];\r\n            let newMembers = [];\r\n            const existingMembers = this.existingMembers;\r\n            this.state.members.forEach(member=>{\r\n                if(member.isPart) {\r\n                    billMembers.push(member.name);\r\n                    if(existingMembers.includes(member.name)===false){\r\n                        newMembers.push(member.name);\r\n                    }\r\n                }\r\n            })\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    this.setState({\r\n                        isLoading: false\r\n                    })\r\n                    // const response = JSON.parse(xhr.responseText);\r\n                    // const currentBill = response.bill;\r\n                    let existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n                    existingMembers = existingMembers.concat(newMembers);\r\n                    localStorage.setItem(\"existingMembers\", JSON.stringify(existingMembers));\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/addmembertobill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/addmembertobill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.setRequestHeader(\"members\", JSON.stringify(billMembers));\r\n            xhr.setRequestHeader(\"newmembers\", JSON.stringify(newMembers));\r\n            xhr.send();\r\n        });\r\n        \r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        if(!this.state.isLoading){\r\n            this.getExistingAssets();\r\n        }\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    getExistingAssets = () => {\r\n        return new Promise((resolve, reject)=>{\r\n        \r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    // console.log(response)\r\n                    const billMembers = response.members;\r\n                    const members = this.getExistingMemberObjects(billMembers, this.existingMembers);\r\n                    this.setState({\r\n                        members,\r\n                        isDataAvailable: true,\r\n                    });\r\n                    resolve(true);\r\n                }else if(xhr.readyState===4 && xhr.status===404){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const errorMessage = response.message;\r\n                    this.setState({\r\n                        isBillExist: false,\r\n                        errorMessage\r\n                    })\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getbillmembers\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getbillmembers\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", this.billName);\r\n            xhr.send();\r\n        })\r\n    }\r\n    \r\n    \r\n    renderForm = () => {\r\n        return (\r\n        <div className=\"newBillForm\" style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'}:{opacity: 1, pointerEvents: 'auto'} }>\r\n            <Notification message={\"Select From list\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n            <NewMembersForm addMember={this.addMember} />\r\n            <NewBillNameForm \r\n                setTitle={this.props.setTitle} \r\n                existingBillNames={this.existingBillNames}\r\n                isInEditMode={true}\r\n                billName={this.billName}\r\n                editBill={this.editBill}\r\n            />\r\n            <div className=\"newMembers\">\r\n                {this.getMembersList(this.state.members)}\r\n            </div>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div>\r\n            \r\n            {this.state.isSignedIn ?\r\n                this.state.isBillExist ?  \r\n                    this.state.isDataAvailable ? \r\n                        this.renderForm() : this.getLoadingScreen() \r\n                :\r\n                <Error404 message={this.state.errorMessage}/>\r\n            : \r\n            <GetUser setAppState={this.props.setAppState} />\r\n            }\r\n            \r\n            {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditBillForm\r\n","import React, { Component } from 'react'\r\n\r\nexport class BillItemForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            itemName: '',\r\n            itemAmount: ''\r\n        }\r\n    }\r\n    \r\n    handleItemNameChange = (event) => {\r\n\r\n        this.setState({\r\n            itemName: event.target.value\r\n        });\r\n\r\n        // console.log(this.state.itemName);\r\n    }\r\n    \r\n    handleItemAmountChange = (event) => {\r\n        this.setState({\r\n            itemAmount: event.target.value\r\n        })\r\n        // console.log(this.state.itemAmount);\r\n    }\r\n\r\n    getRowContainerStyles = () => {\r\n        return {\r\n            display: 'flex', \r\n            flexDirection: 'row', \r\n            marginTop: '5px', \r\n            justifyContent: 'space-between',\r\n            alignItems: 'center'\r\n        }\r\n    }\r\n\r\n    areInputsInvalid = () => {\r\n        let isNameInvalid=false, isAmountInvalid=false;\r\n        const itemNameContainer = document.getElementById('itemName');\r\n        const itemAmountContainer = document.getElementById('itemAmount');\r\n        const name = this.state.itemName;\r\n        const amount = this.state.itemAmount;\r\n\r\n        itemNameContainer.style.borderBottom = '1px solid var(--white)'\r\n        itemAmountContainer.style.borderBottom = '1px solid var(--white)'\r\n        if(name===''){\r\n            itemNameContainer.style.borderBottom = '1px solid var(--red)';\r\n            isNameInvalid=true;\r\n        }\r\n        if(isNaN(parseFloat(amount))){\r\n            itemAmountContainer.style.borderBottom = '1px solid var(--red)';\r\n            isAmountInvalid=true;\r\n        }\r\n        if(isNameInvalid || isAmountInvalid){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getNameAndAmount = ()=>{\r\n        return [this.state.itemName, parseFloat(parseFloat(this.state.itemAmount).toFixed(2))]\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if(this.areInputsInvalid()) return;\r\n        // console.log(\"Valid Inputs:\", this.state.itemAmount, this.state.itemName);\r\n\r\n\r\n        // INPUTS ARE VALID\r\n        const itemDetails = this.getNameAndAmount();\r\n        const name = itemDetails[0];\r\n        const amount = itemDetails[1];\r\n        this.props.setNameAndAmount(name, amount);\r\n        if(event.target.id==='split') this.props.splitChecked(name, amount);\r\n        else this.props.splitEqually(name, amount);\r\n        \r\n        \r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            itemName: '',\r\n            itemAmount: ''\r\n            \r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <form name=\"billItemForm\" className=\"billItemForm\" onSubmit={this.handleSubmit}>\r\n                    <input type=\"text\" placeholder=\"item name\" id=\"itemName\" className=\"appInputs\" value={this.state.itemName} onChange={this.handleItemNameChange}/>\r\n                    <div style={this.getRowContainerStyles()}>\r\n                        <input \r\n                            type=\"number\"\r\n                            step=\"any\" \r\n                            placeholder=\"0.00\" \r\n                            id=\"itemAmount\" \r\n                            className=\"appInputs\" \r\n                            style={{width: \"55%\"}} \r\n                            value={this.state.itemAmount} \r\n                            onChange={this.handleItemAmountChange}\r\n                        />\r\n                        <div>\r\n                            <span className=\"text-icons\" id=\"split\" onClick={this.handleSubmit}>Split</span>\r\n                            <span className=\"text-icons\" id=\"splitequal\" onClick={this.handleSubmit}>Split=</span>\r\n                        </div>\r\n                    </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BillItemForm\r\n","import React, { Component } from 'react'\r\nimport BillItemForm from './BillItemForm'\r\nimport GetUser from './GetUser';\r\nimport { Link } from 'react-router-dom';\r\nimport Error404 from './error404';\r\n\r\nexport class ManageBill extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.billName = \"\";\r\n        this.email = \"\";\r\n        this.members = [];\r\n        this.currentBillId = '';\r\n        // this.state = this.initState();\r\n        this.state = {\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isBillExist: this.billName === \"\" ? false : true,\r\n            isDataAvailable: false,\r\n            billName: this.billName,\r\n            itemName: '', \r\n            itemAmount: 0.00,\r\n            total: 0.00, \r\n            remaining: 0.00, \r\n            receipt: [], \r\n            paidBy: ''\r\n        }\r\n        \r\n    }\r\n\r\n    getTitle = (billName) => {\r\n        return billName.replace(\"-\", \" \");\r\n    }\r\n\r\n    getBillName = () => {\r\n        const pathname = document.location.href;\r\n        let billName = pathname.split(\"/\");\r\n        billName = billName[billName.length-1];\r\n        const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n        if(existingBillNames.includes(billName)){\r\n            return billName;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.billName = this.getBillName();\r\n            this.props.setAppState(\"title\",this.getTitle(this.billName));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleSplitAmountChange = (event)=>{\r\n        const member = event.target.name;\r\n        const memberState = this.state[`${member}`];\r\n        memberState.amount = event.target.value;\r\n        this.setState({\r\n            [member]: memberState\r\n        })\r\n    }\r\n\r\n    \r\n    getMembers = (members) => {\r\n        return (\r\n            members.map((member, i)=>{\r\n                const memberState = this.state[`${member}`];\r\n                return <tr key={i}>\r\n                    <td width=\"70%\" onClick={()=>{this.toggleIsChecked(member,i)}}>\r\n                        {member}\r\n                    </td>\r\n                    <td style={{textAlign: \"right\", marginRight: '5px'}}>\r\n                        <input \r\n                        type=\"number\" \r\n                        step=\"any\"\r\n                        className=\"appInputs\" \r\n                        onChange={this.handleSplitAmountChange} \r\n                        value={memberState.amount} \r\n                        style={{width: \"70px\"}} \r\n                        name={`${member}`} \r\n                        id={`${i}-splitAmount`}\r\n                        placeholder=\"0.00\"\r\n                        disabled = {memberState.isChecked ? \"\" : \"disabled\"} \r\n                        />\r\n                    </td>\r\n                    <td>\r\n                        <i className=\"material-icons\" style={{fontSize: 'x-large'}} onClick={()=>{this.toggleIsChecked(member,i)}}>\r\n                            {memberState.isChecked ? 'check_circle_outline' : 'radio_button_unchecked'}\r\n                        </i>\r\n                    </td>\r\n                </tr>\r\n            })\r\n        )\r\n    }\r\n\r\n    toggleIsChecked = (member) => {\r\n        const memberState = this.state[`${member}`];\r\n        memberState.isChecked = !memberState.isChecked;\r\n        this.setState({\r\n            [member]: memberState\r\n        });\r\n    }\r\n\r\n    toggleIsDue = (member) => {\r\n        document.getElementById('memberWiseReceipt').style.opacity = 0.5;\r\n        document.getElementById('memberWiseReceipt').style.pointerEvents = \"none\";\r\n        let updatedReceipt = this.state.receipt;\r\n        const memberIndex = this.members.indexOf(member);\r\n        const memberReceipt = this.state.receipt[memberIndex];\r\n        memberReceipt.isDue = !memberReceipt.isDue;\r\n        updatedReceipt[memberIndex]=memberReceipt;\r\n        \r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState===4 && xhr.status===200){ \r\n            document.getElementById('memberWiseReceipt').style.opacity = 1;\r\n            document.getElementById('memberWiseReceipt').style.pointerEvents = \"auto\";\r\n                this.setState({\r\n                    receipt: updatedReceipt\r\n                });\r\n            }\r\n        }\r\n        // xhr.open(\"GET\", \"http://localhost:3090/api/v1/updatereceipt\");\r\n        xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/updatereceipt\");\r\n        xhr.setRequestHeader(\"email\", this.email);\r\n        xhr.setRequestHeader(\"billname\", this.billName);\r\n        xhr.setRequestHeader(\"receipt\", JSON.stringify(updatedReceipt));\r\n        xhr.send();\r\n\r\n        // CALL API\r\n    }\r\n\r\n    areInputsInvalid = (itemAmount) => {\r\n        var isInvalid = false;\r\n        let total=0;\r\n        this.members.forEach((member) => {\r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                if(isNaN(parseFloat(memberState.amount))){\r\n                    isInvalid = true;\r\n                    document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--red)'\r\n                }else{\r\n                    total+=parseFloat(memberState.amount);\r\n                }\r\n            }\r\n        })\r\n        total = parseFloat(total.toFixed(2));\r\n        if(isInvalid) return true;\r\n        \r\n        this.setState({\r\n            total: total,\r\n            remaining: (itemAmount-total).toFixed(2)\r\n        })\r\n\r\n        if(Math.abs(itemAmount-total)>1) return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    handleSplitFormSubmit = (event)=> {\r\n        event.preventDefault();\r\n        document.getElementById('memberWiseReceipt').style.opacity = 0.5;\r\n        document.getElementById('memberWiseReceipt').style.pointerEvents = \"none\";\r\n        if(this.refs.itemForm.areInputsInvalid()) return;\r\n        const itemDetails = this.refs.itemForm.getNameAndAmount();\r\n        this.setNameAndAmount(itemDetails[0], itemDetails[1]);\r\n        if(this.areInputsInvalid(itemDetails[1])) return;\r\n\r\n        // GENERATE ITEM BILL OBJECT\r\n        let splitInto = [];\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                // splitInto.push({[member]: parseFloat(memberState.amount)})   \r\n                splitInto.push({name: member, amount: parseFloat(memberState.amount)})\r\n            }\r\n        })\r\n        let bill = {\r\n            itemName: this.state.itemName, \r\n            paidBy: this.state.paidBy, \r\n            itemAmount: parseFloat(this.state.itemAmount), \r\n            splitInto: splitInto\r\n        };\r\n        const receipt = this.generateReceipt(bill);\r\n\r\n        // console.log(\"Calling the api\");\r\n        // MAKE API CALL TO UPDATE RECEIPT\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState===4 && xhr.status===200){\r\n                \r\n            document.getElementById('memberWiseReceipt').style.opacity = 1;\r\n            document.getElementById('memberWiseReceipt').style.pointerEvents = \"auto\";\r\n                this.setState({\r\n                    receipt: receipt\r\n                });\r\n            }\r\n        }\r\n        // xhr.open(\"GET\", \"http://localhost:3090/api/v1/updatereceipt\");\r\n        xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/updatereceipt\");\r\n        xhr.setRequestHeader(\"email\", this.email);\r\n        xhr.setRequestHeader(\"billname\", this.billName);\r\n        xhr.setRequestHeader(\"receipt\", JSON.stringify(receipt));\r\n        xhr.send();\r\n\r\n        // RESET FORMS\r\n        this.resetSplitForm();\r\n        this.refs.itemForm.reset();\r\n    }\r\n\r\n    changePaidBy = (event) => {\r\n        this.setState({\r\n            paidBy: event.target.id\r\n        })\r\n    }\r\n\r\n    getMemberNameChips = () => {\r\n        return this.members.map((member, i)=>{\r\n            return <span \r\n                key={i} \r\n                className=\"nameChip\"\r\n                id={member}\r\n                onClick={this.changePaidBy} \r\n                style={{opacity: this.state.paidBy===member ? 1 : 0.3}}\r\n                >\r\n                    {member}\r\n                </span>\r\n        })\r\n    }\r\n\r\n    getSplitForm = ()=> {\r\n        return <table style={{width: \"100%\"}} className=\"splitAmounts\">\r\n        <tbody>\r\n        {this.getMembers(this.members)}\r\n        <tr>\r\n            <td width=\"70%\" style={{textAlign: \"right\", fontSize: \"medium\"}}>Total: </td>\r\n            <td colSpan=\"2\">{this.state.total.toFixed(2)}</td>\r\n        </tr>\r\n        <tr style={{color: Math.abs(this.state.remaining) > 1 ? 'var(--red)' : 'var(--white)'}}>\r\n            <td width=\"70%\" style={{textAlign: \"right\", fontSize: \"medium\"  }}>Remaining: </td>\r\n            <td colSpan=\"2\">{this.state.remaining}</td>\r\n        </tr>\r\n        <tr>\r\n            <td colSpan=\"3\">Paid By:</td>\r\n        </tr>\r\n        <tr>\r\n            <td className=\"nameChipContainer\">\r\n                {this.getMemberNameChips()}\r\n            </td>\r\n            <td colSpan=\"2\" style={{textAlign: \"right\"}}>\r\n                <i className=\"material-icons\" onClick={this.handleSplitFormSubmit}>add_circle</i>\r\n            </td>\r\n        </tr>\r\n        </tbody>\r\n        </table>\r\n    }\r\n\r\n    setNameAndAmount = (name, amount) => {\r\n        this.setState({\r\n            itemName: name,\r\n            itemAmount: amount\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    splitChecked = (name, amount) => {\r\n        let checkedCount=0;\r\n        let lessAmount=0;\r\n        let assignTo = [];\r\n        let isInvalid = false;\r\n        this.members.forEach(member => {\r\n            \r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                \r\n                if(memberState.amount===''){\r\n                    ++checkedCount;\r\n                    assignTo.push(member);\r\n                }\r\n                else if(isNaN(memberState.amount)){\r\n                    isInvalid=true;\r\n                    document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--red)';\r\n                }\r\n                else{\r\n                    lessAmount+=memberState.amount;    \r\n                }\r\n            }\r\n        })\r\n        if(isInvalid) return;\r\n\r\n        amount=amount-lessAmount;\r\n        const parts = parseFloat((amount/checkedCount).toFixed(2));\r\n        assignTo.forEach(member=>{\r\n            let memberState = this.state[`${member}`];\r\n            memberState.amount = parts;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    splitEqually = (name, amount) => {\r\n        let assignTo = [];\r\n        this.members.forEach(member => {\r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                assignTo.push(member);\r\n            }\r\n        })\r\n\r\n        const parts = parseFloat((amount/assignTo.length).toFixed(2));\r\n        // console.log(typeof parts);\r\n        assignTo.forEach(member=>{\r\n            let memberState = this.state[`${member}`];\r\n            memberState.amount = parts;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    resetSplitForm = () => {\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            memberState.amount = '';\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    selectAllMembers = () => {\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            memberState.isChecked = true;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    getSplitIntoMembers = (splitInto) => {\r\n        return splitInto.map((member, i)=>{\r\n            const name = member.name;\r\n            const amount = member.amount;\r\n            return <tr key={i}>\r\n                <td>{name}</td>\r\n                <td style={{textAlign: \"right\"}}>{amount.toFixed(2)}</td>\r\n            </tr>\r\n        })\r\n    }\r\n\r\n    renderItem = (name, amount, key) => {\r\n        return <tr key={key}>\r\n            <td>{name}</td>\r\n            <td>{amount.toFixed(2)}</td>\r\n        </tr>\r\n    }\r\n\r\n    renderReceiptItems = (itemList) => {\r\n        let itemListView = [];\r\n        // let key=0;\r\n        itemList.forEach((item,i)=>{\r\n            itemListView.push(this.renderItem(item.name, item.amount, i));\r\n        })\r\n        // for(let item in itemList){\r\n        //     itemListView.push(this.renderItem(item, itemList[item], key++));\r\n        // }\r\n        return itemListView;\r\n    }\r\n\r\n    getReceiptView = (name, memberReceipt, key) => {\r\n        const paidByMeTotal = memberReceipt.paidByMeTotal;\r\n        const paidForMeTotal = memberReceipt.paidForMeTotal;\r\n\r\n        return <div key={key}> \r\n        <div className=\"memberReceiptView\" >\r\n            {/* BRIEFS TABLE */}\r\n            <div> \r\n                <table><tbody>\r\n                    <tr>\r\n                        <td><ins><strong>{name}</strong></ins></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>paid</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidByMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td  style={{fontSize: 'small'}}>owes</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidForMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>total</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{(paidByMeTotal-paidForMeTotal).toFixed(2)}</td>\r\n                    </tr>\r\n                </tbody></table>\r\n            </div>\r\n            {/* PAID BY ME TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>paid</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidByMe)}\r\n                </tbody></table>\r\n            </div>\r\n            \r\n            {/* OWES TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>owes</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidForMe)}\r\n                </tbody></table>\r\n            </div>\r\n        </div>\r\n        <div className=\"dueStatus\">\r\n            <i className=\"material-icons\" \r\n                onClick={()=>{this.toggleIsDue(name)}}\r\n                style={{color: memberReceipt.isDue ? \"var(--white)\" : \"var(--green)\", fontSize: 'x-large'}}\r\n            >\r\n                {memberReceipt.isDue ? \"watch_later\" : \"done_all\"}\r\n            </i>\r\n        </div>\r\n        </div>\r\n    }\r\n\r\n\r\n    renderReceipt = () => {\r\n        let receipt = this.state.receipt;\r\n        // console.log(receipt);\r\n        let receiptView = [];\r\n        // let key = 0;\r\n        receipt.forEach((member, i)=>{\r\n            receiptView.push(this.getReceiptView(member.name, receipt[i], i));\r\n        })\r\n        // for(let member in receipt){\r\n        //     receiptView.push(this.getReceiptView(member, receipt[member] ,key++))\r\n        // }\r\n        return receiptView;\r\n    }\r\n\r\n    generateReceipt = (bill) => {\r\n        let receipt = this.state.receipt;\r\n        \r\n        // console.log(item);\r\n        // ADD PAID BY DETAILS\r\n        const paidBy = bill.paidBy;\r\n        const memberIndex = this.members.indexOf(paidBy);\r\n        let memberReceipt= receipt[memberIndex];\r\n        // memberReceipt.paidByMe = {...memberReceipt.paidByMe, [bill.itemName]: bill.itemAmount}\r\n        memberReceipt.paidByMe.push({name: bill.itemName, amount: bill.itemAmount});\r\n        memberReceipt.paidByMeTotal += bill.itemAmount;\r\n\r\n        // ADD PAID FOR DETAILS\r\n        bill.splitInto.forEach(member=>{\r\n            const memberName = member.name;\r\n            const memberIndex = this.members.indexOf(memberName);\r\n            memberReceipt = receipt[memberIndex];\r\n            const splitAmount = member.amount;\r\n            // memberReceipt.paidForMe = {...memberReceipt.paidForMe, [bill.itemName]: splitAmount}\r\n            memberReceipt.paidForMe.push({name: bill.itemName, amount: splitAmount});\r\n            memberReceipt.paidForMeTotal += splitAmount;\r\n        });\r\n        \r\n        // console.log(receipt);\r\n        // this.setState({\r\n        //     receipt: receipt\r\n        // })\r\n        return receipt;\r\n    }\r\n\r\n    getBill = () => {\r\n        return new Promise((resolve, reject)=>{\r\n            const billName = this.state.billName;\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    // console.log(response);\r\n                    const bill = response.bill;\r\n                    this.members = bill.members;\r\n                    \r\n                    this.members.forEach((member)=>{\r\n                        this.setState({\r\n                            [member]: {isChecked: true, amount: ''}\r\n                        })\r\n                    })\r\n                    this.setState({\r\n                        receipt: bill.receipt,\r\n                        paidBy: this.members[0],\r\n                        isDataAvailable: true,\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getbill\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/getbill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.send();\r\n        })\r\n    }\r\n\r\n    renderBillItemForm = () => {\r\n        return (\r\n            <div className=\"manageBill\">\r\n                <BillItemForm \r\n                    ref=\"itemForm\"\r\n                    splitChecked={this.splitChecked} \r\n                    splitEqually={this.splitEqually} \r\n                    setNameAndAmount={this.setNameAndAmount}\r\n\r\n                />\r\n                <form name=\"splitForm\" className=\"splitForm\">\r\n                    <div style={{textAlign: \"right\", marginBottom: \"15px\"}}>\r\n                    <Link to={`/editbill/${this.billName}`}><span className=\"text-icons\" style={{fontSize: 'small'}}>Add Person</span></Link>\r\n                        <span className=\"text-icons\" style={{fontSize: 'small'}} onClick={this.selectAllMembers}>Select All</span>\r\n                        <span className=\"text-icons\" style={{fontSize: 'small'}} onClick={this.resetSplitForm}>Reset</span>\r\n                    </div>\r\n                    {this.getSplitForm()}\r\n                </form>\r\n                <div className=\"memberWiseReceipt\" id=\"memberWiseReceipt\">\r\n                    {this.renderReceipt()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        this.getBill();\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                this.state.isSignedIn ? \r\n                    this.state.isBillExist ? \r\n                        this.state.isDataAvailable ?\r\n                            this.renderBillItemForm()\r\n                            : \r\n                            this.getLoadingScreen()\r\n                        :\r\n                        <Error404 message={\"The bill you are looking for does not exist.\"}/>\r\n                    :\r\n                    <GetUser setAppState={this.props.setAppState} />\r\n                }\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default ManageBill\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class BillBrief extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            showReceipt: false\r\n        }\r\n    }\r\n\r\n    toggleShowReceipt = () => {\r\n        const showReceipt = this.state.showReceipt;\r\n        this.setState({\r\n            showReceipt: !showReceipt\r\n        })\r\n    }\r\n\r\n    getMembers = (members)=>{\r\n        return (\r\n            members.map((member, i)=>{\r\n                return <span className=\"billMember\" key={i}>{member}</span>\r\n            })\r\n        )\r\n    }\r\n\r\n    renderItem = (name, amount, key) => {\r\n        return <tr key={key}>\r\n            <td>{name}</td>\r\n            <td>{amount.toFixed(2)}</td>\r\n        </tr>\r\n    }\r\n\r\n    renderReceiptItems = (itemList) => {\r\n        let itemListView = [];\r\n        // let key=0;\r\n        itemList.forEach((item,i)=>{\r\n            itemListView.push(this.renderItem(item.name, item.amount, i));\r\n        })\r\n        // for(let item in itemList){\r\n        //     itemListView.push(this.renderItem(item, itemList[item], key++));\r\n        // }\r\n        return itemListView;\r\n    }\r\n\r\n    getReceiptView = (name, memberReceipt, key) => {\r\n        const paidByMeTotal = memberReceipt.paidByMeTotal;\r\n        const paidForMeTotal = memberReceipt.paidForMeTotal;\r\n\r\n        return <div key={key}> \r\n        <div className=\"memberReceiptView\" >\r\n            {/* BRIEFS TABLE */}\r\n            <div> \r\n                <table><tbody>\r\n                    <tr>\r\n                        <td><ins><strong>{name}</strong></ins></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>paid</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidByMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td  style={{fontSize: 'small'}}>owes</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidForMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>total</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{(paidByMeTotal-paidForMeTotal).toFixed(2)}</td>\r\n                    </tr>\r\n                </tbody></table>\r\n            </div>\r\n            {/* PAID BY ME TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>paid</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidByMe)}\r\n                </tbody></table>\r\n            </div>\r\n            \r\n            {/* OWES TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>owes</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidForMe)}\r\n                </tbody></table>\r\n            </div>\r\n        </div>\r\n        <div className=\"dueStatus\">\r\n            <i className=\"material-icons\" \r\n                style={{color: memberReceipt.isDue ? \"var(--white)\" : \"var(--green)\", fontSize: 'x-large'}}\r\n            >\r\n                {memberReceipt.isDue ? \"watch_later\" : \"done_all\"}\r\n            </i>\r\n        </div>\r\n        </div>\r\n    }\r\n\r\n    renderReceipt = () => {\r\n        let receipt = this.props.receipt;\r\n        // console.log(receipt);\r\n        let receiptView = [];\r\n        // let key = 0;\r\n        receipt.forEach((member, i)=>{\r\n            receiptView.push(this.getReceiptView(member.name, receipt[i], i));\r\n        })\r\n        // for(let member in receipt){\r\n        //     receiptView.push(this.getReceiptView(member, receipt[member] ,key++))\r\n        // }\r\n        return receiptView;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"detailedBill\">\r\n                <div className=\"billBrief\" id={this.props.id}>\r\n                    <div className=\"billBriefControls\">\r\n                        <i className=\"material-icons deleteIcon\" onClick={()=>{this.props.deleteBill(this.props.billName)}}>delete</i>\r\n                        <Link to={`/manage/${this.props.billName}`}><i className=\"material-icons editIcon\">edit</i></Link>\r\n                    </div>\r\n                    <div className=\"billBriefDetails\" onClick={this.toggleShowReceipt}>\r\n                        <div className=\"billDateAndName\">\r\n                            <div className=\"billName\">{this.props.billName.replace(\"-\", \" \")}</div>\r\n                            <div className=\"billDate\">{this.props.date}</div>\r\n                        </div>\r\n                        <div className=\"billMembers\">{this.getMembers(this.props.members)}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"receiptView\" style={this.state.showReceipt ? {display: 'block'} : {display: 'none'}}>{this.renderReceipt()}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BillBrief\r\n","import React, { Component } from 'react'\r\n\r\nexport class AlertMessage extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"alertMessage\" id=\"alertMessage\" style={this.props.style}>\r\n                <h3>Are you sure you want to delete the bill <span style={{textTransform: 'capitalize'}}>{this.props.billName.replace('-',' ')}</span>?</h3>\r\n                \r\n                <span style={{float: \"right\", padding: \"5px 10px\"}} onClick={this.props.cancelDeletion}>Cancel</span>\r\n                <span style={{float: \"right\", padding: \"5px 10px\"}} onClick={()=>{this.props.confirmDeletion(this.props.billName)}}>OK</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AlertMessage\r\n","import React, { Component } from 'react';\r\nimport BillBrief from './BillBrief';\r\nimport GetUser from './GetUser';\r\nimport AlertMessage from './AlertMessage';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class AllBills extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.props.setTitle(\"All Bills\");\r\n        this.email = '';\r\n        this.state = {\r\n            allBills: [],\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isDataAvailable: false,\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        }\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    componentDidMount = ()=>{\r\n        if(!this.state.isSignedIn){\r\n            document.getElementById('linktologin').click();\r\n        }\r\n    }\r\n    \r\n    cancelDeletion = ()=>{\r\n        // console.log(\"deletion canceled.\");\r\n        this.setState({\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        })\r\n    }\r\n\r\n    confirmDeletion = (billName) => {\r\n        // console.log(\"deletion confirmed\");\r\n        this.setState({\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        });\r\n        // console.log(\"deleting\", billName);\r\n        document.getElementById(billName).style.opacity = 0.5;\r\n        document.getElementById(billName).style.pointerEvents = \"none\";\r\n        const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    document.getElementById(billName).style.opacity = 1;\r\n                    document.getElementById(billName).style.pointerEvents = \"auto\";\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const existingBillNames = response.existingBillNames;\r\n                    localStorage.setItem(\"existingBillNames\", JSON.stringify(existingBillNames));\r\n                    const allBills = this.state.allBills;\r\n                    let newAllBills = [];\r\n                    allBills.forEach(bill=>{\r\n                        if(bill.billName !== billName){\r\n                            newAllBills.push(bill);\r\n                        }\r\n                    })\r\n                    this.setState({\r\n                        allBills: newAllBills\r\n                    })\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/deletebill\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/deletebill\");\r\n            xhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.send();\r\n    }\r\n\r\n\r\n    deleteBill = (billName) => {\r\n        this.setState({\r\n            isAlertBoxRequired: true,\r\n            billToBeDeleted: billName\r\n        });\r\n        \r\n    }\r\n    \r\n    getBillBrief = (bill, key) => {\r\n        return <BillBrief \r\n            key={key} \r\n            billName={bill.billName} \r\n            date={new Date(bill.dateCreated).toDateString()} \r\n            members={bill.members} \r\n            id={bill.billName} \r\n            deleteBill={this.deleteBill}\r\n            receipt={bill.receipt}\r\n        />\r\n    }\r\n\r\n    getAllBillBriefs = (allBills) => {\r\n        return allBills.map((bill, i)=>{\r\n            return this.getBillBrief(bill, i);\r\n        })\r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        this.getAllBills();\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n    \r\n    getAllBills = () => {\r\n        return new Promise((resolve, reject)=>{\r\n            const billNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const allBills = response.allBills;\r\n                    this.setState({\r\n                        allBills,\r\n                        isDataAvailable: true\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            \r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getallbills\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/getallbills\");\r\n            xhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billnames\", JSON.stringify(billNames));\r\n                \r\n            xhr.send();\r\n\r\n            \r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Link to=\"/\" id=\"linktologin\"/>\r\n                <div id=\"allBillsContainer\" style={this.state.isAlertBoxRequired ? {pointerEvents: 'none', opacity: '0.5'} : {pointerEvents: 'auto', opacity: '1'}}>\r\n                    {this.state.isSignedIn ? \r\n                    this.state.isDataAvailable ? \r\n                        this.getAllBillBriefs(this.state.allBills)\r\n                        : \r\n                        this.getLoadingScreen() \r\n                    : \r\n                    <GetUser setAppState={this.props.setAppState}/>\r\n                    \r\n                }\r\n                </div>\r\n\r\n                <AlertMessage \r\n                    style={this.state.isAlertBoxRequired ? {display: 'block'} : {display: 'none'}} \r\n                    billName={this.state.billToBeDeleted}\r\n                    cancelDeletion={this.cancelDeletion}\r\n                    confirmDeletion={this.confirmDeletion}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AllBills\r\n","import React, { Component } from 'react';\n// BrowserRouter as Router,\nimport {\n  HashRouter,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport './App.css';\nimport Titlebar from './components/Titlebar';\nimport AddIcon from './components/AddIcon';\nimport NewBillForm from './components/NewBillForm';\nimport EditBillForm from './components/EditBillForm';\nimport ManageBill from './components/ManageBill';\nimport GetUser from './components/GetUser';\nimport AllBills from './components/AllBills';\n\nexport class App extends Component {\n  constructor(props){\n    super(props);\n    this.state = this.init();\n  }\n\n  init = () => {\n    let appState = {\n      title: 'Log in',\n      existingMembers: [],\n      allBillNames: [],\n      currentBill: {}\n    }\n    window.resizeTo(450, 450)\n    return appState;\n  }\n\n  setTitle = (title) => {\n    this.setState({\n      title: title\n    })\n  }\n\n  setAppState = (key, value) => {\n    this.setState({\n      [key]: value\n    });\n  }\n\n  render() {\n    return (\n      <HashRouter basename=\"/\" >\n        <Titlebar>{this.state.title}</Titlebar>\n        <Switch>\n          \n          {/* HOMEPAGE */}\n          <Route path=\"/home\">\n            <AddIcon></AddIcon>\n            <AllBills setTitle={this.setTitle} setAppState={this.setAppState}/>\n          </Route>\n\n          {/* CREATE NEW BILL */}\n          <Route path=\"/newbill\">\n            <NewBillForm \n              setTitle={this.setTitle} \n              existingMembers={this.state.existingMembers} \n              allBillNames={this.state.allBillNames}\n              email={this.state.email}\n              setAppState={this.setAppState}\n            />\n          </Route>\n\n          <Route path=\"/editbill/:id\">\n            <EditBillForm\n              setAppState={this.setAppState}\n            />\n          </Route>\n          \n          {/* MANAGE BILL */}\n          <Route path=\"/manage/:id\">\n            <ManageBill setTitle={this.setTitle} setAppState={this.setAppState} currentBill={this.state.currentBill} /> \n          </Route>\n            \n          {/* SIGN OR LOG IN */}\n          <Route path=\"/\">\n            <GetUser setAppState={this.setAppState}/>\n          </Route>\n          \n        </Switch>\n      </HashRouter>\n      \n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}