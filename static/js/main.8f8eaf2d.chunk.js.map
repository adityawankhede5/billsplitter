{"version":3,"sources":["components/Titlebar.js","components/AddIcon.js","components/NewNameChip.js","components/NewMembersForm.js","components/Notification.js","components/NewBillNameForm.js","components/GetUser.js","components/NewBillForm.js","components/error404.js","components/EditBillForm.js","components/BillItemForm.js","components/ManageBill.js","components/BillBrief.js","components/AlertMessage.js","components/AllBills.js","App.js","index.js"],"names":["Titlebar","className","to","style","fontSize","marginLeft","this","props","children","Component","AddIcon","NewNameChip","toggleIsMember","setState","isMember","state","toggleIsPart","index","isPart","onClick","isEditable","opacity","pointerEvents","memberName","color","NewMembersForm","value","handleChange","bind","handleSubmit","event","target","preventDefault","inputTag","document","getElementById","borderBottom","addMember","id","onSubmit","type","placeholder","onChange","Notification","message","NewBillNameForm","a","async","isInEditMode","billName","replace","toLowerCase","allBillNames","includes","alreadyExists","setTimeout","isLoading","editBill","createNewBill","click","formatBillName","name","existingBillNames","display","GetUser","prepareLoginButton","console","log","refs","googleLoginBtn","auth2","attachClickHandler","googleUser","profile","getBasicProfile","getName","email","getEmail","localStorage","setItem","getUserFromDatabase","error","alert","JSON","stringify","undefined","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","parse","responseText","existingMembers","open","setRequestHeader","send","getLoadingScreen","setAppState","googleSDK","window","load","init","client_id","cookiepolicy","scope","d","s","js","fjs","getElementsByTagName","createElement","src","parentNode","insertBefore","ref","NewBillForm","members","isDataAvailable","isSignedIn","getSignedInStatus","getItem","getExistingMemberObjects","membersArray","length","map","member","toUpperCase","getMembersList","i","key","allMembers","push","billMembers","newMembers","forEach","currentBill","bill","concat","getExistingAssets","asset","renderForm","setTitle","Error404","EditBillForm","getBillName","pathname","location","split","errorMessage","isBillExist","BillItemForm","handleItemNameChange","itemName","handleItemAmountChange","itemAmount","getRowContainerStyles","flexDirection","marginTop","justifyContent","alignItems","areInputsInvalid","isNameInvalid","isAmountInvalid","itemNameContainer","itemAmountContainer","amount","isNaN","parseFloat","getNameAndAmount","toFixed","itemDetails","setNameAndAmount","splitChecked","splitEqually","reset","step","width","ManageBill","getTitle","handleSplitAmountChange","memberState","getMembers","toggleIsChecked","textAlign","marginRight","disabled","isChecked","toggleIsDue","updatedReceipt","receipt","memberIndex","indexOf","memberReceipt","isDue","isInvalid","total","getElementsByName","remaining","Math","abs","handleSplitFormSubmit","itemForm","splitInto","paidBy","generateReceipt","resetSplitForm","changePaidBy","getMemberNameChips","getSplitForm","colSpan","checkedCount","lessAmount","assignTo","parts","selectAllMembers","getSplitIntoMembers","renderItem","renderReceiptItems","itemList","itemListView","item","getReceiptView","paidByMeTotal","paidForMeTotal","paidByMe","paidForMe","renderReceipt","receiptView","splitAmount","getBill","renderBillItemForm","marginBottom","currentBillId","BillBrief","toggleShowReceipt","showReceipt","deleteBill","date","AlertMessage","textTransform","float","padding","cancelDeletion","confirmDeletion","AllBills","isAlertBoxRequired","billToBeDeleted","allBills","newAllBills","getBillBrief","Date","dateCreated","toDateString","getAllBillBriefs","getAllBills","billNames","App","resizeTo","title","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.8f8eaf2d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class Titlebar extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"titlebar\">\r\n                <div><Link to=\"/home\"><i className=\"material-icons\">home</i></Link></div>\r\n                <div style={{fontSize: 'xx-large', marginLeft: '10px'}}>{this.props.children}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Titlebar\r\n","import React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport class AddIcon extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"addnewIconContainer\">\r\n                <Link to=\"/newbill\"><i className=\"material-icons addnewIcon\">add_circle</i></Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddIcon\r\n","import React, { Component } from 'react'\r\n\r\nexport class NewNameChip extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            isMember: this.props.isPart\r\n        }\r\n    }\r\n    toggleIsMember = ()=>{\r\n        this.setState({\r\n            isMember: !this.state.isMember\r\n        })\r\n        this.props.toggleIsPart(this.props.index);\r\n    }\r\n    render() {\r\n        return (\r\n            <span \r\n            className=\"newNameChip\" \r\n            onClick={this.toggleIsMember} \r\n            style={this.state.isMember ? \r\n                this.props.isEditable ? \r\n                    {opacity: 1, pointerEvents: 'auto'} \r\n                : \r\n                    {opacity: 1, pointerEvents: 'none'}\r\n                :\r\n                {opacity: 0.5, pointerEvents: 'auto'}}\r\n            >\r\n                {this.props.memberName}\r\n                <i className=\"material-icons chipControlIcon\" style={this.state.isMember ? {color: 'var(--red)'} : {color: 'var(--green)'}}>\r\n                    {this.state.isMember ? 'cancel' : 'add_circle'}\r\n                </i>\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewNameChip\r\n","import React, { Component } from 'react'\r\n\r\nexport class NewMembersForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: ''};\r\n    \r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    \r\n    handleChange(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n    \r\n    handleSubmit(event) {\r\n        // console.log(\"handling event\");\r\n        event.preventDefault();\r\n        const inputTag = document.getElementById('newMemberName');\r\n        inputTag.style.borderBottom = '1px solid var(--white)';\r\n        if(this.state.value===''){\r\n            inputTag.style.borderBottom = '1px solid var(--red)';\r\n            return;\r\n        }\r\n        if(this.props.addMember(this.state.value)===-1) return;\r\n        this.setState({\r\n            value: ''\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <form id=\"newMemberNames\" className=\"newMemberNames\" onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" placeholder=\"member name\" className=\"appInputs\" id=\"newMemberName\" value={this.state.value} onChange={this.handleChange} />\r\n                <i className=\"material-icons\" onClick={this.handleSubmit}>add_circle</i>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewMembersForm\r\n","import React, { Component } from 'react'\r\n\r\nexport class Notification extends Component {\r\n    render() {\r\n        return (\r\n            <span \r\n                className=\"notification\" \r\n                id=\"notification\" \r\n                style={this.props.style}\r\n            >\r\n                {this.props.message}\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Notification from './Notification';\r\n\r\nexport class NewBillNameForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.isInEditMode = this.props.isInEditMode;\r\n        this.allBillNames = this.props.existingBillNames;\r\n        this.state = {\r\n            value: this.isInEditMode ? this.props.billName : '',\r\n            alreadyExists: false,\r\n        }\r\n    }\r\n    \r\n    handleChange = (event) => {\r\n        this.setState({\r\n            value: event.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = async (event) => {\r\n        if(!this.isInEditMode){\r\n            const inputTag = document.getElementById('newBillName');\r\n            inputTag.style.borderBottom = '1px solid var(--white)';\r\n            if(this.state.value===''){\r\n                inputTag.style.borderBottom = '1px solid var(--red)';\r\n                // event.preventDefault();\r\n                return;\r\n            }\r\n            const billName = this.state.value.replace(' ', '-').toLowerCase();\r\n            if(this.allBillNames.includes(billName)){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                // event.preventDefault();\r\n                return;\r\n            }\r\n        }\r\n        const billName = this.state.value.replace(' ', '-').toLowerCase();\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        this.isInEditMode ? await this.props.editBill(billName) : await this.props.createNewBill(billName);\r\n        document.getElementById('nextpagelink').click();\r\n    }\r\n\r\n    formatBillName = (name) => {\r\n        return name.replace(\" \", \"-\");\r\n    }\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                <div name=\"newBillName\" className=\"newBillName\">\r\n                    <Notification message={\"Bill with same exists\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"bill name\" \r\n                        className=\"appInputs\" \r\n                        id=\"newBillName\" \r\n                        value={this.state.value} \r\n                        onChange={this.handleChange} \r\n                        style={this.isInEditMode ? {pointerEvents: 'none'} : {pointerEvents: 'auto'}}\r\n                    />\r\n                    <i className=\"material-icons checkIcon\" onClick={this.handleSubmit}>check_circle</i>\r\n                    <Link to={`/manage/${this.formatBillName(this.state.value)}`} id=\"nextpagelink\"></Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewBillNameForm\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class GetUser extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.props.setAppState(\"title\", \"Login\")\r\n        this.state={\r\n            name: '',\r\n            email: '',\r\n            isLoading: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.googleSDK();\r\n    }\r\n    \r\n    googleSDK() {\r\n \r\n        window['googleSDKLoaded'] = () => {\r\n          window['gapi'].load('auth2', () => {\r\n            this.auth2 = window['gapi'].auth2.init({\r\n              client_id: '748883507287-vd5sq0o1i30l6pk7vh4fuusi77voh1mp.apps.googleusercontent.com',\r\n              cookiepolicy: 'single_host_origin',\r\n              scope: 'profile email'\r\n            });\r\n            this.prepareLoginButton();\r\n          });\r\n        }\r\n       \r\n        (function(d, s, id){\r\n          var js, fjs = d.getElementsByTagName(s)[0];\r\n          if (d.getElementById(id)) {return;}\r\n          js = d.createElement(s); js.id = id;\r\n          js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\r\n          fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'google-jssdk'));\r\n       \r\n    }\r\n\r\n\r\n    \r\n    \r\n    prepareLoginButton = () => {\r\n \r\n        console.log(this.refs.googleLoginBtn);\r\n         \r\n        this.auth2.attachClickHandler(this.refs.googleLoginBtn, {},\r\n            async (googleUser) => {\r\n         \r\n            let profile = googleUser.getBasicProfile();\r\n            \r\n            //YOUR CODE HERE\r\n            const name = profile.getName();\r\n            const email = profile.getEmail();\r\n            this.setState({\r\n                name,\r\n                email\r\n            })\r\n            localStorage.setItem(\"email\", email);\r\n            localStorage.setItem(\"name\", name);\r\n            localStorage.setItem(\"isSignedIn\", \"true\");\r\n            this.setState({\r\n                isLoading: true\r\n            })\r\n            await this.getUserFromDatabase(email, name);\r\n            this.setState({\r\n                isLoading: false\r\n            })\r\n\r\n            document.getElementById('linktohome').click();\r\n         \r\n            }, (error) => {\r\n                alert(JSON.stringify(error, undefined, 2));\r\n            });\r\n         \r\n    }\r\n\r\n    getUserFromDatabase = (email, name) => {\r\n        return new Promise((resolve, reject)=>{\r\n            // MAKE API CALL HERE.\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    // console.log(xhr.responseText);\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const existingMembers = JSON.stringify(response.existingMembers);\r\n                    const existingBillNames = JSON.stringify(response.existingBillNames);\r\n                    localStorage.setItem(\"existingMembers\", existingMembers);\r\n                    localStorage.setItem(\"existingBillNames\", existingBillNames);\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getuser\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/getuser\");\r\n            xhr.setRequestHeader(\"email\", email);\r\n            xhr.setRequestHeader(\"name\", name);\r\n            xhr.send();\r\n        });    \r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"row mt-5\">  \r\n            <Link to=\"/home\" id=\"linktohome\"></Link>\r\n                <div className=\"col-md-12\">\r\n                    <h2 className=\"text-left\">Google Login Demo</h2>\r\n                    <div className=\"card mt-3\">\r\n                        <div className=\"card-body\">\r\n                             \r\n                            <div className=\"row mt-5 mb-5\">\r\n                                <div className=\"col-md-4 mt-2 m-auto \">\r\n                                    <button className=\"loginBtn loginBtn--google\" ref=\"googleLoginBtn\">\r\n                                        Login with Google\r\n                                    </button>\r\n                                </div>    \r\n                            </div>\r\n                        <div>\r\n                            <div>\r\n                                <span>Name: </span>\r\n                                <span>{this.state.name}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Email: </span>\r\n                                <span>{this.state.email}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Version: </span>\r\n                                <span>2</span>\r\n                            </div>\r\n                        </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GetUser\r\n","import React, { Component } from 'react';\r\nimport NewNameChip from './NewNameChip';\r\nimport NewMembersForm from './NewMembersForm';\r\nimport NewBillNameForm from './NewBillNameForm';\r\nimport Notification from './Notification';\r\n// import { Link } from 'react-router-dom';\r\nimport GetUser from './GetUser';\r\n\r\nexport class NewBillForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.props.setTitle(\"New Bill\");\r\n        this.email = \"\";\r\n        this.existingMembers = [];\r\n        this.existingBillNames = [];\r\n        this.state = this.init();\r\n    }\r\n\r\n    init = ()=>{\r\n        return {\r\n            members: [],\r\n            alreadyExists: false,\r\n            isDataAvailable: false,\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isLoading: false,\r\n        };\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    getExistingMemberObjects = (existingMembers) => {\r\n        let membersArray = [];\r\n        if(existingMembers.length!==0){\r\n                membersArray = existingMembers.map(member=> {\r\n                if(member.toUpperCase()===\"ME\") return {name: member, isPart: true}\r\n                return {name: member, isPart: false}\r\n            })\r\n        }\r\n        return membersArray;\r\n    }\r\n\r\n    getMembersList = (members) =>{\r\n        return members.map(\r\n            (member, i)=> \r\n                <NewNameChip \r\n                    memberName={member.name} \r\n                    isPart={member.isPart} \r\n                    isEditable={true}\r\n                    key={i} \r\n                    index={i} \r\n                    toggleIsPart={this.toggleIsPart}\r\n                />\r\n        )\r\n    }\r\n    \r\n    addMember = (name) =>{\r\n        const allMembers = this.state.members;\r\n        for(let i=0;i<allMembers.length;i++){\r\n            if(allMembers[i].name.toUpperCase()===name.toUpperCase()){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                return -1;\r\n            };\r\n        }\r\n\r\n        this.setState({\r\n            member: this.state.members.push({name, isPart: true}),\r\n            alreadyExists: false\r\n        });\r\n        return 0;\r\n    }\r\n\r\n    toggleIsPart = (key) => {\r\n        const allMembers = this.state.members;\r\n        allMembers[key].isPart = !allMembers[key].isPart;\r\n        this.setState({\r\n            members: allMembers\r\n        })\r\n        // console.log(this.state);\r\n    }\r\n\r\n    createNewBill = (billName)=>{\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        return new Promise((resolve, reject)=> {\r\n            let billMembers = [];\r\n            let newMembers = [];\r\n            const existingMembers = this.existingMembers;\r\n            this.state.members.forEach(member=>{\r\n                if(member.isPart) {\r\n                    billMembers.push(member.name);\r\n                    if(existingMembers.includes(member.name)===false){\r\n                        newMembers.push(member.name);\r\n                    }\r\n                }\r\n            })\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    this.setState({\r\n                        isLoading: false\r\n                    })\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const currentBill = response.bill;\r\n                    // this.props.setAppState(\"currentBill\", currentBill.billName);\r\n                    const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n                    let existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n                    existingMembers = existingMembers.concat(newMembers);\r\n                    existingBillNames.push(currentBill.billName);\r\n                    localStorage.setItem(\"existingMembers\", JSON.stringify(existingMembers));\r\n                    localStorage.setItem(\"existingBillNames\", JSON.stringify(existingBillNames));\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/createbill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/createbill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.setRequestHeader(\"members\", JSON.stringify(billMembers));\r\n            xhr.setRequestHeader(\"newmembers\", JSON.stringify(newMembers));\r\n            xhr.send();\r\n        });\r\n        \r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        if(!this.state.isLoading){\r\n            this.getExistingAssets();\r\n        }\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    getExistingAssets = () => {\r\n        return new Promise((resolve, reject)=>{\r\n        \r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const asset = response.asset;\r\n                    const existingBillNames = asset.existingBillNames;\r\n                    this.existingMembers = asset.existingMembers;\r\n                    const members = this.getExistingMemberObjects(asset.existingMembers);\r\n                    this.setState({\r\n                        existingBillNames,\r\n                        members,\r\n                        isDataAvailable: true\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getexisitingassets\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getexisitingassets\");\r\n            xhr.setRequestHeader(\"email\", localStorage.getItem(\"email\"));\r\n            xhr.send();\r\n        })\r\n    }\r\n    \r\n    \r\n    renderForm = () => {\r\n        return (\r\n        <div className=\"newBillForm\" style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'} : {opacity: 1, pointerEvents: 'auto'} }>\r\n            <Notification message={\"Select From list\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n            <NewMembersForm addMember={this.addMember} />\r\n            <NewBillNameForm \r\n                createNewBill={this.createNewBill} \r\n                setTitle={this.props.setTitle} \r\n                existingBillNames={this.existingBillNames}\r\n                isInEditMode={false}\r\n            />\r\n            <div className=\"newMembers\">\r\n                {this.getMembersList(this.state.members)}\r\n            </div>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div>\r\n            \r\n            {this.state.isSignedIn ? \r\n                this.state.isDataAvailable ? \r\n                    this.renderForm() : this.getLoadingScreen() \r\n                : \r\n                <GetUser setAppState={this.props.setAppState} />\r\n            }\r\n            \r\n            {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewBillForm\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport class Error404 extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"error404Container\">\r\n                <span className=\"errorCode\" style={{fontSize: '70px'}}>404</span>\r\n                <span>Page not found</span>\r\n                <span>{this.props.message}</span>\r\n                <span>Go to:</span>\r\n                <Link to=\"/home\"><i className=\"material-icons\">home</i></Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Error404\r\n","import React, { Component } from 'react';\r\nimport NewNameChip from './NewNameChip';\r\nimport NewMembersForm from './NewMembersForm';\r\nimport NewBillNameForm from './NewBillNameForm';\r\nimport Notification from './Notification';\r\n// import { Link } from 'react-router-dom';\r\nimport GetUser from './GetUser';\r\nimport Error404 from './error404';\r\n\r\nexport class EditBillForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.props.setAppState(\"title\",\"Edit Bill\");\r\n        this.email = \"\";\r\n        this.billName = \"\";\r\n        this.existingMembers = [];\r\n        this.state = {\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isBillExist: true,\r\n            isDataAvailable: false,\r\n            members: [],\r\n            alreadyExists: false,\r\n            errorMessage: '',\r\n            isLoading: false\r\n        }\r\n    }\r\n\r\n    // init = ()=>{\r\n    //     setTimeout(()=>{console.log(this.state);},5000);\r\n    //     return {\r\n    //         isSignedIn: this.getSignedInStatus(),\r\n    //         members: [],\r\n    //         alreadyExists: false,\r\n    //         isDataAvailable: false,\r\n    //     };\r\n    // }\r\n\r\n    getBillName = () => {\r\n        const pathname = document.location.pathname;\r\n        if(pathname===\"/manage\" || pathname===\"/manage/\"){\r\n            return \"\";\r\n        }\r\n        let billName = pathname.split(\"/\");\r\n        billName = billName[billName.length-1];\r\n        const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n        if(existingBillNames.includes(billName)){\r\n            return billName;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.billName = this.getBillName();\r\n            this.existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    getExistingMemberObjects = (billMembers,existingMembers) => {\r\n        let membersArray = [];\r\n        if(existingMembers.length!==0){\r\n                membersArray = existingMembers.map(member=> {\r\n                if(billMembers.includes(member)) return {name: member, isPart: true, isEditable: false}\r\n                return {name: member, isPart: false, isEditable: true}\r\n            })\r\n        }\r\n        return membersArray;\r\n    }\r\n\r\n    getMembersList = (members) =>{\r\n        return members.map(\r\n            (member, i)=> \r\n                <NewNameChip \r\n                    memberName={member.name} \r\n                    isPart={member.isPart} \r\n                    isEditable={member.isEditable}\r\n                    key={i} \r\n                    index={i} \r\n                    toggleIsPart={this.toggleIsPart}\r\n                />\r\n        )\r\n    }\r\n    \r\n    addMember = (name) =>{\r\n        const allMembers = this.state.members;\r\n        for(let i=0;i<allMembers.length;i++){\r\n            if(allMembers[i].name.toUpperCase()===name.toUpperCase()){\r\n                this.setState({\r\n                    alreadyExists: true\r\n                })\r\n                setTimeout(()=>{\r\n                    this.setState({\r\n                        alreadyExists: false\r\n                    })\r\n                },2000)\r\n                return -1;\r\n            };\r\n        }\r\n\r\n        this.setState({\r\n            member: this.state.members.push({name, isPart: true, isEditable: true}),\r\n            alreadyExists: false\r\n        });\r\n        return 0;\r\n    }\r\n\r\n    toggleIsPart = (key) => {\r\n        const allMembers = this.state.members;\r\n        allMembers[key].isPart = !allMembers[key].isPart;\r\n        this.setState({\r\n            members: allMembers\r\n        })\r\n        // console.log(this.state);\r\n    }\r\n\r\n    editBill = (billName)=>{\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        return new Promise((resolve, reject)=> {\r\n            let billMembers = [];\r\n            let newMembers = [];\r\n            const existingMembers = this.existingMembers;\r\n            this.state.members.forEach(member=>{\r\n                if(member.isPart) {\r\n                    billMembers.push(member.name);\r\n                    if(existingMembers.includes(member.name)===false){\r\n                        newMembers.push(member.name);\r\n                    }\r\n                }\r\n            })\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    this.setState({\r\n                        isLoading: false\r\n                    })\r\n                    // const response = JSON.parse(xhr.responseText);\r\n                    // const currentBill = response.bill;\r\n                    let existingMembers = JSON.parse(localStorage.getItem(\"existingMembers\"));\r\n                    existingMembers = existingMembers.concat(newMembers);\r\n                    localStorage.setItem(\"existingMembers\", JSON.stringify(existingMembers));\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/addmembertobill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/addmembertobill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.setRequestHeader(\"members\", JSON.stringify(billMembers));\r\n            xhr.setRequestHeader(\"newmembers\", JSON.stringify(newMembers));\r\n            xhr.send();\r\n        });\r\n        \r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        if(!this.state.isLoading){\r\n            this.getExistingAssets();\r\n        }\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    getExistingAssets = () => {\r\n        return new Promise((resolve, reject)=>{\r\n        \r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    // console.log(response)\r\n                    const billMembers = response.members;\r\n                    const members = this.getExistingMemberObjects(billMembers, this.existingMembers);\r\n                    this.setState({\r\n                        members,\r\n                        isDataAvailable: true,\r\n                    });\r\n                    resolve(true);\r\n                }else if(xhr.readyState===4 && xhr.status===404){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const errorMessage = response.message;\r\n                    this.setState({\r\n                        isBillExist: false,\r\n                        errorMessage\r\n                    })\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getbillmembers\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getbillmembers\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", this.billName);\r\n            xhr.send();\r\n        })\r\n    }\r\n    \r\n    \r\n    renderForm = () => {\r\n        return (\r\n        <div className=\"newBillForm\" style={this.state.isLoading ? {opacity: 0.5, pointerEvents: 'none'}:{opacity: 1, pointerEvents: 'auto'} }>\r\n            <Notification message={\"Select From list\"} style={{display: this.state.alreadyExists ? 'block' : 'none'}} />\r\n            <NewMembersForm addMember={this.addMember} />\r\n            <NewBillNameForm \r\n                setTitle={this.props.setTitle} \r\n                existingBillNames={this.existingBillNames}\r\n                isInEditMode={true}\r\n                billName={this.billName}\r\n                editBill={this.editBill}\r\n            />\r\n            <div className=\"newMembers\">\r\n                {this.getMembersList(this.state.members)}\r\n            </div>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div>\r\n            \r\n            {this.state.isSignedIn ?\r\n                this.state.isBillExist ?  \r\n                    this.state.isDataAvailable ? \r\n                        this.renderForm() : this.getLoadingScreen() \r\n                :\r\n                <Error404 message={this.state.errorMessage}/>\r\n            : \r\n            <GetUser setAppState={this.props.setAppState} />\r\n            }\r\n            \r\n            {this.state.isLoading ? this.getLoadingScreen() : ''}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditBillForm\r\n","import React, { Component } from 'react'\r\n\r\nexport class BillItemForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            itemName: '',\r\n            itemAmount: ''\r\n        }\r\n    }\r\n    \r\n    handleItemNameChange = (event) => {\r\n\r\n        this.setState({\r\n            itemName: event.target.value\r\n        });\r\n\r\n        // console.log(this.state.itemName);\r\n    }\r\n    \r\n    handleItemAmountChange = (event) => {\r\n        this.setState({\r\n            itemAmount: event.target.value\r\n        })\r\n        // console.log(this.state.itemAmount);\r\n    }\r\n\r\n    getRowContainerStyles = () => {\r\n        return {\r\n            display: 'flex', \r\n            flexDirection: 'row', \r\n            marginTop: '5px', \r\n            justifyContent: 'space-between',\r\n            alignItems: 'center'\r\n        }\r\n    }\r\n\r\n    areInputsInvalid = () => {\r\n        let isNameInvalid=false, isAmountInvalid=false;\r\n        const itemNameContainer = document.getElementById('itemName');\r\n        const itemAmountContainer = document.getElementById('itemAmount');\r\n        const name = this.state.itemName;\r\n        const amount = this.state.itemAmount;\r\n\r\n        itemNameContainer.style.borderBottom = '1px solid var(--white)'\r\n        itemAmountContainer.style.borderBottom = '1px solid var(--white)'\r\n        if(name===''){\r\n            itemNameContainer.style.borderBottom = '1px solid var(--red)';\r\n            isNameInvalid=true;\r\n        }\r\n        if(isNaN(parseFloat(amount))){\r\n            itemAmountContainer.style.borderBottom = '1px solid var(--red)';\r\n            isAmountInvalid=true;\r\n        }\r\n        if(isNameInvalid || isAmountInvalid){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getNameAndAmount = ()=>{\r\n        return [this.state.itemName, parseFloat(parseFloat(this.state.itemAmount).toFixed(2))]\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if(this.areInputsInvalid()) return;\r\n        // console.log(\"Valid Inputs:\", this.state.itemAmount, this.state.itemName);\r\n\r\n\r\n        // INPUTS ARE VALID\r\n        const itemDetails = this.getNameAndAmount();\r\n        const name = itemDetails[0];\r\n        const amount = itemDetails[1];\r\n        this.props.setNameAndAmount(name, amount);\r\n        if(event.target.id==='split') this.props.splitChecked(name, amount);\r\n        else this.props.splitEqually(name, amount);\r\n        \r\n        \r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            itemName: '',\r\n            itemAmount: ''\r\n            \r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <form name=\"billItemForm\" className=\"billItemForm\" onSubmit={this.handleSubmit}>\r\n                    <input type=\"text\" placeholder=\"item name\" id=\"itemName\" className=\"appInputs\" value={this.state.itemName} onChange={this.handleItemNameChange}/>\r\n                    <div style={this.getRowContainerStyles()}>\r\n                        <input \r\n                            type=\"number\"\r\n                            step=\"any\" \r\n                            placeholder=\"0.00\" \r\n                            id=\"itemAmount\" \r\n                            className=\"appInputs\" \r\n                            style={{width: \"55%\"}} \r\n                            value={this.state.itemAmount} \r\n                            onChange={this.handleItemAmountChange}\r\n                        />\r\n                        <div>\r\n                            <span className=\"text-icons\" id=\"split\" onClick={this.handleSubmit}>Split</span>\r\n                            <span className=\"text-icons\" id=\"splitequal\" onClick={this.handleSubmit}>Split=</span>\r\n                        </div>\r\n                    </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BillItemForm\r\n","import React, { Component } from 'react'\r\nimport BillItemForm from './BillItemForm'\r\nimport GetUser from './GetUser';\r\nimport { Link } from 'react-router-dom';\r\nimport Error404 from './error404';\r\n\r\nexport class ManageBill extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.billName = \"\";\r\n        this.email = \"\";\r\n        this.members = [];\r\n        this.currentBillId = '';\r\n        // this.state = this.initState();\r\n        this.state = {\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isBillExist: this.billName === \"\" ? false : true,\r\n            isDataAvailable: false,\r\n            billName: this.billName,\r\n            itemName: '', \r\n            itemAmount: 0.00,\r\n            total: 0.00, \r\n            remaining: 0.00, \r\n            receipt: [], \r\n            paidBy: ''\r\n        }\r\n        \r\n    }\r\n\r\n    getTitle = (billName) => {\r\n        return billName.replace(\"-\", \" \");\r\n    }\r\n\r\n    getBillName = () => {\r\n        const pathname = document.location.pathname;\r\n        if(pathname===\"/manage\" || pathname===\"/manage/\"){\r\n            return \"\";\r\n        }\r\n        let billName = pathname.split(\"/\");\r\n        billName = billName[billName.length-1];\r\n        const existingBillNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n        if(existingBillNames.includes(billName)){\r\n            return billName;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            this.billName = this.getBillName();\r\n            this.props.setAppState(\"title\",this.getTitle(this.billName));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleSplitAmountChange = (event)=>{\r\n        const member = event.target.name;\r\n        const memberState = this.state[`${member}`];\r\n        memberState.amount = event.target.value;\r\n        this.setState({\r\n            [member]: memberState\r\n        })\r\n    }\r\n\r\n    \r\n    getMembers = (members) => {\r\n        return (\r\n            members.map((member, i)=>{\r\n                const memberState = this.state[`${member}`];\r\n                return <tr key={i}>\r\n                    <td width=\"70%\" onClick={()=>{this.toggleIsChecked(member,i)}}>\r\n                        {member}\r\n                    </td>\r\n                    <td style={{textAlign: \"right\", marginRight: '5px'}}>\r\n                        <input \r\n                        type=\"number\" \r\n                        step=\"any\"\r\n                        className=\"appInputs\" \r\n                        onChange={this.handleSplitAmountChange} \r\n                        value={memberState.amount} \r\n                        style={{width: \"70px\"}} \r\n                        name={`${member}`} \r\n                        id={`${i}-splitAmount`}\r\n                        placeholder=\"0.00\"\r\n                        disabled = {memberState.isChecked ? \"\" : \"disabled\"} \r\n                        />\r\n                    </td>\r\n                    <td>\r\n                        <i className=\"material-icons\" style={{fontSize: 'x-large'}} onClick={()=>{this.toggleIsChecked(member,i)}}>\r\n                            {memberState.isChecked ? 'check_circle_outline' : 'radio_button_unchecked'}\r\n                        </i>\r\n                    </td>\r\n                </tr>\r\n            })\r\n        )\r\n    }\r\n\r\n    toggleIsChecked = (member) => {\r\n        const memberState = this.state[`${member}`];\r\n        memberState.isChecked = !memberState.isChecked;\r\n        this.setState({\r\n            [member]: memberState\r\n        });\r\n    }\r\n\r\n    toggleIsDue = (member) => {\r\n        document.getElementById('memberWiseReceipt').style.opacity = 0.5;\r\n        document.getElementById('memberWiseReceipt').style.pointerEvents = \"none\";\r\n        let updatedReceipt = this.state.receipt;\r\n        const memberIndex = this.members.indexOf(member);\r\n        const memberReceipt = this.state.receipt[memberIndex];\r\n        memberReceipt.isDue = !memberReceipt.isDue;\r\n        updatedReceipt[memberIndex]=memberReceipt;\r\n        \r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState===4 && xhr.status===200){ \r\n            document.getElementById('memberWiseReceipt').style.opacity = 1;\r\n            document.getElementById('memberWiseReceipt').style.pointerEvents = \"auto\";\r\n                this.setState({\r\n                    receipt: updatedReceipt\r\n                });\r\n            }\r\n        }\r\n        // xhr.open(\"GET\", \"http://localhost:3090/api/v1/updatereceipt\");\r\n        xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/updatereceipt\");\r\n        xhr.setRequestHeader(\"email\", this.email);\r\n        xhr.setRequestHeader(\"billname\", this.billName);\r\n        xhr.setRequestHeader(\"receipt\", JSON.stringify(updatedReceipt));\r\n        xhr.send();\r\n\r\n        // CALL API\r\n    }\r\n\r\n    areInputsInvalid = (itemAmount) => {\r\n        var isInvalid = false;\r\n        let total=0;\r\n        this.members.forEach((member) => {\r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                if(isNaN(parseFloat(memberState.amount))){\r\n                    isInvalid = true;\r\n                    document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--red)'\r\n                }else{\r\n                    total+=parseFloat(memberState.amount);\r\n                }\r\n            }\r\n        })\r\n        total = parseFloat(total.toFixed(2));\r\n        if(isInvalid) return true;\r\n        \r\n        this.setState({\r\n            total: total,\r\n            remaining: (itemAmount-total).toFixed(2)\r\n        })\r\n\r\n        if(Math.abs(itemAmount-total)>1) return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    handleSplitFormSubmit = (event)=> {\r\n        event.preventDefault();\r\n        document.getElementById('memberWiseReceipt').style.opacity = 0.5;\r\n        document.getElementById('memberWiseReceipt').style.pointerEvents = \"none\";\r\n        if(this.refs.itemForm.areInputsInvalid()) return;\r\n        const itemDetails = this.refs.itemForm.getNameAndAmount();\r\n        this.setNameAndAmount(itemDetails[0], itemDetails[1]);\r\n        if(this.areInputsInvalid(itemDetails[1])) return;\r\n\r\n        // GENERATE ITEM BILL OBJECT\r\n        let splitInto = [];\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                // splitInto.push({[member]: parseFloat(memberState.amount)})   \r\n                splitInto.push({name: member, amount: parseFloat(memberState.amount)})\r\n            }\r\n        })\r\n        let bill = {\r\n            itemName: this.state.itemName, \r\n            paidBy: this.state.paidBy, \r\n            itemAmount: parseFloat(this.state.itemAmount), \r\n            splitInto: splitInto\r\n        };\r\n        const receipt = this.generateReceipt(bill);\r\n\r\n        // console.log(\"Calling the api\");\r\n        // MAKE API CALL TO UPDATE RECEIPT\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState===4 && xhr.status===200){\r\n                \r\n            document.getElementById('memberWiseReceipt').style.opacity = 1;\r\n            document.getElementById('memberWiseReceipt').style.pointerEvents = \"auto\";\r\n                this.setState({\r\n                    receipt: receipt\r\n                });\r\n            }\r\n        }\r\n        // xhr.open(\"GET\", \"http://localhost:3090/api/v1/updatereceipt\");\r\n        xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/updatereceipt\");\r\n        xhr.setRequestHeader(\"email\", this.email);\r\n        xhr.setRequestHeader(\"billname\", this.billName);\r\n        xhr.setRequestHeader(\"receipt\", JSON.stringify(receipt));\r\n        xhr.send();\r\n\r\n        // RESET FORMS\r\n        this.resetSplitForm();\r\n        this.refs.itemForm.reset();\r\n    }\r\n\r\n    changePaidBy = (event) => {\r\n        this.setState({\r\n            paidBy: event.target.id\r\n        })\r\n    }\r\n\r\n    getMemberNameChips = () => {\r\n        return this.members.map((member, i)=>{\r\n            return <span \r\n                key={i} \r\n                className=\"nameChip\"\r\n                id={member}\r\n                onClick={this.changePaidBy} \r\n                style={{opacity: this.state.paidBy===member ? 1 : 0.3}}\r\n                >\r\n                    {member}\r\n                </span>\r\n        })\r\n    }\r\n\r\n    getSplitForm = ()=> {\r\n        return <table style={{width: \"100%\"}} className=\"splitAmounts\">\r\n        <tbody>\r\n        {this.getMembers(this.members)}\r\n        <tr>\r\n            <td width=\"70%\" style={{textAlign: \"right\", fontSize: \"medium\"}}>Total: </td>\r\n            <td colSpan=\"2\">{this.state.total.toFixed(2)}</td>\r\n        </tr>\r\n        <tr style={{color: Math.abs(this.state.remaining) > 1 ? 'var(--red)' : 'var(--white)'}}>\r\n            <td width=\"70%\" style={{textAlign: \"right\", fontSize: \"medium\"  }}>Remaining: </td>\r\n            <td colSpan=\"2\">{this.state.remaining}</td>\r\n        </tr>\r\n        <tr>\r\n            <td colSpan=\"3\">Paid By:</td>\r\n        </tr>\r\n        <tr>\r\n            <td className=\"nameChipContainer\">\r\n                {this.getMemberNameChips()}\r\n            </td>\r\n            <td colSpan=\"2\" style={{textAlign: \"right\"}}>\r\n                <i className=\"material-icons\" onClick={this.handleSplitFormSubmit}>add_circle</i>\r\n            </td>\r\n        </tr>\r\n        </tbody>\r\n        </table>\r\n    }\r\n\r\n    setNameAndAmount = (name, amount) => {\r\n        this.setState({\r\n            itemName: name,\r\n            itemAmount: amount\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    splitChecked = (name, amount) => {\r\n        let checkedCount=0;\r\n        let lessAmount=0;\r\n        let assignTo = [];\r\n        let isInvalid = false;\r\n        this.members.forEach(member => {\r\n            \r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                \r\n                if(memberState.amount===''){\r\n                    ++checkedCount;\r\n                    assignTo.push(member);\r\n                }\r\n                else if(isNaN(memberState.amount)){\r\n                    isInvalid=true;\r\n                    document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--red)';\r\n                }\r\n                else{\r\n                    lessAmount+=memberState.amount;    \r\n                }\r\n            }\r\n        })\r\n        if(isInvalid) return;\r\n\r\n        amount=amount-lessAmount;\r\n        const parts = parseFloat((amount/checkedCount).toFixed(2));\r\n        assignTo.forEach(member=>{\r\n            let memberState = this.state[`${member}`];\r\n            memberState.amount = parts;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    splitEqually = (name, amount) => {\r\n        let assignTo = [];\r\n        this.members.forEach(member => {\r\n            document.getElementsByName(member)[0].style.borderBottom = '1px solid var(--white)';\r\n            let memberState = this.state[`${member}`];\r\n            if(memberState.isChecked){\r\n                assignTo.push(member);\r\n            }\r\n        })\r\n\r\n        const parts = parseFloat((amount/assignTo.length).toFixed(2));\r\n        // console.log(typeof parts);\r\n        assignTo.forEach(member=>{\r\n            let memberState = this.state[`${member}`];\r\n            memberState.amount = parts;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    resetSplitForm = () => {\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            memberState.amount = '';\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    selectAllMembers = () => {\r\n        this.members.forEach(member=>{\r\n            const memberState = this.state[`${member}`];\r\n            memberState.isChecked = true;\r\n            this.setState({\r\n                [member]: memberState\r\n            })\r\n        })\r\n    }\r\n\r\n    getSplitIntoMembers = (splitInto) => {\r\n        return splitInto.map((member, i)=>{\r\n            const name = member.name;\r\n            const amount = member.amount;\r\n            return <tr key={i}>\r\n                <td>{name}</td>\r\n                <td style={{textAlign: \"right\"}}>{amount.toFixed(2)}</td>\r\n            </tr>\r\n        })\r\n    }\r\n\r\n    renderItem = (name, amount, key) => {\r\n        return <tr key={key}>\r\n            <td>{name}</td>\r\n            <td>{amount.toFixed(2)}</td>\r\n        </tr>\r\n    }\r\n\r\n    renderReceiptItems = (itemList) => {\r\n        let itemListView = [];\r\n        // let key=0;\r\n        itemList.forEach((item,i)=>{\r\n            itemListView.push(this.renderItem(item.name, item.amount, i));\r\n        })\r\n        // for(let item in itemList){\r\n        //     itemListView.push(this.renderItem(item, itemList[item], key++));\r\n        // }\r\n        return itemListView;\r\n    }\r\n\r\n    getReceiptView = (name, memberReceipt, key) => {\r\n        const paidByMeTotal = memberReceipt.paidByMeTotal;\r\n        const paidForMeTotal = memberReceipt.paidForMeTotal;\r\n\r\n        return <div key={key}> \r\n        <div className=\"memberReceiptView\" >\r\n            {/* BRIEFS TABLE */}\r\n            <div> \r\n                <table><tbody>\r\n                    <tr>\r\n                        <td><ins><strong>{name}</strong></ins></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>paid</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidByMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td  style={{fontSize: 'small'}}>owes</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidForMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>total</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{(paidByMeTotal-paidForMeTotal).toFixed(2)}</td>\r\n                    </tr>\r\n                </tbody></table>\r\n            </div>\r\n            {/* PAID BY ME TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>paid</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidByMe)}\r\n                </tbody></table>\r\n            </div>\r\n            \r\n            {/* OWES TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>owes</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidForMe)}\r\n                </tbody></table>\r\n            </div>\r\n        </div>\r\n        <div className=\"dueStatus\">\r\n            <i className=\"material-icons\" \r\n                onClick={()=>{this.toggleIsDue(name)}}\r\n                style={{color: memberReceipt.isDue ? \"var(--white)\" : \"var(--green)\", fontSize: 'x-large'}}\r\n            >\r\n                {memberReceipt.isDue ? \"watch_later\" : \"done_all\"}\r\n            </i>\r\n        </div>\r\n        </div>\r\n    }\r\n\r\n\r\n    renderReceipt = () => {\r\n        let receipt = this.state.receipt;\r\n        // console.log(receipt);\r\n        let receiptView = [];\r\n        // let key = 0;\r\n        receipt.forEach((member, i)=>{\r\n            receiptView.push(this.getReceiptView(member.name, receipt[i], i));\r\n        })\r\n        // for(let member in receipt){\r\n        //     receiptView.push(this.getReceiptView(member, receipt[member] ,key++))\r\n        // }\r\n        return receiptView;\r\n    }\r\n\r\n    generateReceipt = (bill) => {\r\n        let receipt = this.state.receipt;\r\n        \r\n        // console.log(item);\r\n        // ADD PAID BY DETAILS\r\n        const paidBy = bill.paidBy;\r\n        const memberIndex = this.members.indexOf(paidBy);\r\n        let memberReceipt= receipt[memberIndex];\r\n        // memberReceipt.paidByMe = {...memberReceipt.paidByMe, [bill.itemName]: bill.itemAmount}\r\n        memberReceipt.paidByMe.push({name: bill.itemName, amount: bill.itemAmount});\r\n        memberReceipt.paidByMeTotal += bill.itemAmount;\r\n\r\n        // ADD PAID FOR DETAILS\r\n        bill.splitInto.forEach(member=>{\r\n            const memberName = member.name;\r\n            const memberIndex = this.members.indexOf(memberName);\r\n            memberReceipt = receipt[memberIndex];\r\n            const splitAmount = member.amount;\r\n            // memberReceipt.paidForMe = {...memberReceipt.paidForMe, [bill.itemName]: splitAmount}\r\n            memberReceipt.paidForMe.push({name: bill.itemName, amount: splitAmount});\r\n            memberReceipt.paidForMeTotal += splitAmount;\r\n        });\r\n        \r\n        // console.log(receipt);\r\n        // this.setState({\r\n        //     receipt: receipt\r\n        // })\r\n        return receipt;\r\n    }\r\n\r\n    getBill = () => {\r\n        return new Promise((resolve, reject)=>{\r\n            const billName = this.state.billName;\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    // console.log(response);\r\n                    const bill = response.bill;\r\n                    this.members = bill.members;\r\n                    \r\n                    this.members.forEach((member)=>{\r\n                        this.setState({\r\n                            [member]: {isChecked: true, amount: ''}\r\n                        })\r\n                    })\r\n                    this.setState({\r\n                        receipt: bill.receipt,\r\n                        paidBy: this.members[0],\r\n                        isDataAvailable: true,\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getbill\");\r\n            xhr.open(\"GET\", \"https://immense-coast-52535.herokuapp.com/api/v1/getbill\");\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.send();\r\n        })\r\n    }\r\n\r\n    renderBillItemForm = () => {\r\n        return (\r\n            <div className=\"manageBill\">\r\n                <BillItemForm \r\n                    ref=\"itemForm\"\r\n                    splitChecked={this.splitChecked} \r\n                    splitEqually={this.splitEqually} \r\n                    setNameAndAmount={this.setNameAndAmount}\r\n\r\n                />\r\n                <form name=\"splitForm\" className=\"splitForm\">\r\n                    <div style={{textAlign: \"right\", marginBottom: \"15px\"}}>\r\n                    <Link to={`/editbill/${this.billName}`}><span className=\"text-icons\" style={{fontSize: 'small'}}>Add Person</span></Link>\r\n                        <span className=\"text-icons\" style={{fontSize: 'small'}} onClick={this.selectAllMembers}>Select All</span>\r\n                        <span className=\"text-icons\" style={{fontSize: 'small'}} onClick={this.resetSplitForm}>Reset</span>\r\n                    </div>\r\n                    {this.getSplitForm()}\r\n                </form>\r\n                <div className=\"memberWiseReceipt\" id=\"memberWiseReceipt\">\r\n                    {this.renderReceipt()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        this.getBill();\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                this.state.isSignedIn ? \r\n                    this.state.isBillExist ? \r\n                        this.state.isDataAvailable ?\r\n                            this.renderBillItemForm()\r\n                            : \r\n                            this.getLoadingScreen()\r\n                        :\r\n                        <Error404 message={\"The bill you are looking for does not exist.\"}/>\r\n                    :\r\n                    <GetUser setAppState={this.props.setAppState} />\r\n                }\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default ManageBill\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class BillBrief extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            showReceipt: false\r\n        }\r\n    }\r\n\r\n    toggleShowReceipt = () => {\r\n        const showReceipt = this.state.showReceipt;\r\n        this.setState({\r\n            showReceipt: !showReceipt\r\n        })\r\n    }\r\n\r\n    getMembers = (members)=>{\r\n        return (\r\n            members.map((member, i)=>{\r\n                return <span className=\"billMember\" key={i}>{member}</span>\r\n            })\r\n        )\r\n    }\r\n\r\n    renderItem = (name, amount, key) => {\r\n        return <tr key={key}>\r\n            <td>{name}</td>\r\n            <td>{amount.toFixed(2)}</td>\r\n        </tr>\r\n    }\r\n\r\n    renderReceiptItems = (itemList) => {\r\n        let itemListView = [];\r\n        // let key=0;\r\n        itemList.forEach((item,i)=>{\r\n            itemListView.push(this.renderItem(item.name, item.amount, i));\r\n        })\r\n        // for(let item in itemList){\r\n        //     itemListView.push(this.renderItem(item, itemList[item], key++));\r\n        // }\r\n        return itemListView;\r\n    }\r\n\r\n    getReceiptView = (name, memberReceipt, key) => {\r\n        const paidByMeTotal = memberReceipt.paidByMeTotal;\r\n        const paidForMeTotal = memberReceipt.paidForMeTotal;\r\n\r\n        return <div key={key}> \r\n        <div className=\"memberReceiptView\" >\r\n            {/* BRIEFS TABLE */}\r\n            <div> \r\n                <table><tbody>\r\n                    <tr>\r\n                        <td><ins><strong>{name}</strong></ins></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>paid</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidByMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td  style={{fontSize: 'small'}}>owes</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{paidForMeTotal.toFixed(2)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style={{fontSize: 'small'}}>total</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{(paidByMeTotal-paidForMeTotal).toFixed(2)}</td>\r\n                    </tr>\r\n                </tbody></table>\r\n            </div>\r\n            {/* PAID BY ME TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>paid</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidByMe)}\r\n                </tbody></table>\r\n            </div>\r\n            \r\n            {/* OWES TABLE */}\r\n            <div>\r\n                <table><tbody>\r\n                    <tr>\r\n                        <td colSpan=\"2\" style={{opacity: 0.5}}>owes</td>\r\n                    </tr>\r\n                    {this.renderReceiptItems(memberReceipt.paidForMe)}\r\n                </tbody></table>\r\n            </div>\r\n        </div>\r\n        <div className=\"dueStatus\">\r\n            <i className=\"material-icons\" \r\n                style={{color: memberReceipt.isDue ? \"var(--white)\" : \"var(--green)\", fontSize: 'x-large'}}\r\n            >\r\n                {memberReceipt.isDue ? \"watch_later\" : \"done_all\"}\r\n            </i>\r\n        </div>\r\n        </div>\r\n    }\r\n\r\n    renderReceipt = () => {\r\n        let receipt = this.props.receipt;\r\n        // console.log(receipt);\r\n        let receiptView = [];\r\n        // let key = 0;\r\n        receipt.forEach((member, i)=>{\r\n            receiptView.push(this.getReceiptView(member.name, receipt[i], i));\r\n        })\r\n        // for(let member in receipt){\r\n        //     receiptView.push(this.getReceiptView(member, receipt[member] ,key++))\r\n        // }\r\n        return receiptView;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"detailedBill\">\r\n                <div className=\"billBrief\" id={this.props.id}>\r\n                    <div className=\"billBriefControls\">\r\n                        <i className=\"material-icons deleteIcon\" onClick={()=>{this.props.deleteBill(this.props.billName)}}>delete</i>\r\n                        <Link to={`/manage/${this.props.billName}`}><i className=\"material-icons editIcon\">edit</i></Link>\r\n                    </div>\r\n                    <div className=\"billBriefDetails\" onClick={this.toggleShowReceipt}>\r\n                        <div className=\"billDateAndName\">\r\n                            <div className=\"billName\">{this.props.billName.replace(\"-\", \" \")}</div>\r\n                            <div className=\"billDate\">{this.props.date}</div>\r\n                        </div>\r\n                        <div className=\"billMembers\">{this.getMembers(this.props.members)}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"receiptView\" style={this.state.showReceipt ? {display: 'block'} : {display: 'none'}}>{this.renderReceipt()}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BillBrief\r\n","import React, { Component } from 'react'\r\n\r\nexport class AlertMessage extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"alertMessage\" id=\"alertMessage\" style={this.props.style}>\r\n                <h3>Are you sure you want to delete the bill <span style={{textTransform: 'capitalize'}}>{this.props.billName.replace('-',' ')}</span>?</h3>\r\n                \r\n                <span style={{float: \"right\", padding: \"5px 10px\"}} onClick={this.props.cancelDeletion}>Cancel</span>\r\n                <span style={{float: \"right\", padding: \"5px 10px\"}} onClick={()=>{this.props.confirmDeletion(this.props.billName)}}>OK</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AlertMessage\r\n","import React, { Component } from 'react';\r\nimport BillBrief from './BillBrief';\r\nimport GetUser from './GetUser';\r\nimport AlertMessage from './AlertMessage';\r\n\r\nexport class AllBills extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.props.setTitle(\"All Bills\");\r\n        this.email = '';\r\n        this.state = {\r\n            allBills: [],\r\n            isSignedIn: this.getSignedInStatus(),\r\n            isDataAvailable: false,\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        }\r\n    }\r\n\r\n    getSignedInStatus =()=> {\r\n        if(localStorage.getItem(\"isSignedIn\")!==null && localStorage.getItem(\"isSignedIn\")===\"true\"){\r\n            this.email = localStorage.getItem(\"email\");\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    cancelDeletion = ()=>{\r\n        // console.log(\"deletion canceled.\");\r\n        this.setState({\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        })\r\n    }\r\n\r\n    confirmDeletion = (billName) => {\r\n        // console.log(\"deletion confirmed\");\r\n        this.setState({\r\n            isAlertBoxRequired: false,\r\n            billToBeDeleted: ''\r\n        });\r\n        // console.log(\"deleting\", billName);\r\n        document.getElementById(billName).style.opacity = 0.5;\r\n        document.getElementById(billName).style.pointerEvents = \"none\";\r\n        const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    document.getElementById(billName).style.opacity = 1;\r\n                    document.getElementById(billName).style.pointerEvents = \"auto\";\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const existingBillNames = response.existingBillNames;\r\n                    localStorage.setItem(\"existingBillNames\", JSON.stringify(existingBillNames));\r\n                    const allBills = this.state.allBills;\r\n                    let newAllBills = [];\r\n                    allBills.forEach(bill=>{\r\n                        if(bill.billName !== billName){\r\n                            newAllBills.push(bill);\r\n                        }\r\n                    })\r\n                    this.setState({\r\n                        allBills: newAllBills\r\n                    })\r\n                }\r\n            }\r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/deletebill\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/deletebill\");\r\n            xhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billname\", billName);\r\n            xhr.send();\r\n    }\r\n\r\n\r\n    deleteBill = (billName) => {\r\n        this.setState({\r\n            isAlertBoxRequired: true,\r\n            billToBeDeleted: billName\r\n        });\r\n        \r\n    }\r\n    \r\n    getBillBrief = (bill, key) => {\r\n        return <BillBrief \r\n            key={key} \r\n            billName={bill.billName} \r\n            date={new Date(bill.dateCreated).toDateString()} \r\n            members={bill.members} \r\n            id={bill.billName} \r\n            deleteBill={this.deleteBill}\r\n            receipt={bill.receipt}\r\n        />\r\n    }\r\n\r\n    getAllBillBriefs = (allBills) => {\r\n        return allBills.map((bill, i)=>{\r\n            return this.getBillBrief(bill, i);\r\n        })\r\n    }\r\n\r\n    getLoadingScreen = () => {\r\n        this.getAllBills();\r\n        return <div className=\"loadingIconContainer\"><i className=\"material-icons loadingIcon\">refresh</i></div>\r\n    }\r\n    \r\n    getAllBills = () => {\r\n        return new Promise((resolve, reject)=>{\r\n            const billNames = JSON.parse(localStorage.getItem(\"existingBillNames\"));\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if(xhr.readyState===4 && xhr.status===200){\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const allBills = response.allBills;\r\n                    this.setState({\r\n                        allBills,\r\n                        isDataAvailable: true\r\n                    });\r\n                    resolve(true);\r\n                }\r\n            }\r\n            \r\n            // xhr.open(\"GET\", \"http://localhost:3090/api/v1/getallbills\");\r\n            xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://immense-coast-52535.herokuapp.com/api/v1/getallbills\");\r\n            xhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n            xhr.setRequestHeader(\"email\", this.email);\r\n            xhr.setRequestHeader(\"billnames\", JSON.stringify(billNames));\r\n                \r\n            xhr.send();\r\n\r\n            \r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n                <div id=\"allBillsContainer\" style={this.state.isAlertBoxRequired ? {pointerEvents: 'none', opacity: '0.5'} : {pointerEvents: 'auto', opacity: '1'}}>\r\n                    {this.state.isSignedIn ? \r\n                    this.state.isDataAvailable ? \r\n                        this.getAllBillBriefs(this.state.allBills)\r\n                        : \r\n                        this.getLoadingScreen() \r\n                    : \r\n                    <GetUser setAppState={this.props.setAppState}/>\r\n                    \r\n                }\r\n                </div>\r\n\r\n                <AlertMessage \r\n                    style={this.state.isAlertBoxRequired ? {display: 'block'} : {display: 'none'}} \r\n                    billName={this.state.billToBeDeleted}\r\n                    cancelDeletion={this.cancelDeletion}\r\n                    confirmDeletion={this.confirmDeletion}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AllBills\r\n","import React, { Component } from 'react';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport './App.css';\nimport Titlebar from './components/Titlebar';\nimport AddIcon from './components/AddIcon';\nimport NewBillForm from './components/NewBillForm';\nimport EditBillForm from './components/EditBillForm';\nimport ManageBill from './components/ManageBill';\nimport GetUser from './components/GetUser';\nimport AllBills from './components/AllBills';\n\nexport class App extends Component {\n  constructor(props){\n    super(props);\n    this.state = this.init();\n  }\n\n  init = () => {\n    let appState = {\n      title: 'Log in',\n      existingMembers: [],\n      allBillNames: [],\n      currentBill: {}\n    }\n    window.resizeTo(450, 450)\n    return appState;\n  }\n\n  setTitle = (title) => {\n    this.setState({\n      title: title\n    })\n  }\n\n  setAppState = (key, value) => {\n    this.setState({\n      [key]: value\n    });\n  }\n\n  render() {\n    return (\n      <Router >\n        <Titlebar>{this.state.title}</Titlebar>\n        <Switch>\n          \n          {/* HOMEPAGE */}\n          <Route path=\"/home\">\n            <AddIcon></AddIcon>\n            <AllBills setTitle={this.setTitle} setAppState={this.setAppState}/>\n          </Route>\n\n          <Route path=\"/home:token\">\n            <div>Hello world</div>\n          </Route>\n          {/* CREATE NEW BILL */}\n          <Route path=\"/newbill\">\n            <NewBillForm \n              setTitle={this.setTitle} \n              existingMembers={this.state.existingMembers} \n              allBillNames={this.state.allBillNames}\n              email={this.state.email}\n              setAppState={this.setAppState}\n            />\n          </Route>\n\n          <Route path=\"/editbill/:id\">\n            <EditBillForm\n              setAppState={this.setAppState}\n            />\n          </Route>\n          \n          {/* MANAGE BILL */}\n          <Route path=\"/manage/:id\">\n            <ManageBill setTitle={this.setTitle} setAppState={this.setAppState} currentBill={this.state.currentBill} /> \n          </Route>\n            \n          {/* SIGN OR LOG IN */}\n          <Route path=\"/\">\n            {/* <TestLogin /> */}\n            <GetUser setAppState={this.setAppState}/>\n          </Route>\n          \n        </Switch>\n      </Router>\n      \n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}